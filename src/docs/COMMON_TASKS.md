# üõ†Ô∏è –¢–∏–ø–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏: –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 20 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.0

> **–¶–µ–ª—å:** –ë—ã—Å—Ç—Ä—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–¥–∞—á —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞.

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –ø–æ–ª–µ –≤ –ø—Ä–∏–≤—ã—á–∫—É](#1-–¥–æ–±–∞–≤–∏—Ç—å-–Ω–æ–≤–æ–µ-–ø–æ–ª–µ-–≤-–ø—Ä–∏–≤—ã—á–∫—É)
2. [–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –µ–¥–∏–Ω–∏—Ü—É –∏–∑–º–µ—Ä–µ–Ω–∏—è](#2-–¥–æ–±–∞–≤–∏—Ç—å-–Ω–æ–≤—É—é-–µ–¥–∏–Ω–∏—Ü—É-–∏–∑–º–µ—Ä–µ–Ω–∏—è)
3. [–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø —á–∞—Å—Ç–æ—Ç—ã](#3-–¥–æ–±–∞–≤–∏—Ç—å-–Ω–æ–≤—ã–π-—Ç–∏–ø-—á–∞—Å—Ç–æ—Ç—ã)
4. [–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é](#4-–¥–æ–±–∞–≤–∏—Ç—å-–Ω–æ–≤—É—é-–∫–∞—Ç–µ–≥–æ—Ä–∏—é)
5. [–ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º—É–ª—É EMA (—Å–∏–ª—ã –ø—Ä–∏–≤—ã—á–∫–∏)](#5-–∏–∑–º–µ–Ω–∏—Ç—å-—Ñ–æ—Ä–º—É–ª—É-ema-—Å–∏–ª—ã-–ø—Ä–∏–≤—ã—á–∫–∏)
6. [–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π action –≤ store](#6-–¥–æ–±–∞–≤–∏—Ç—å-–Ω–æ–≤—ã–π-action-–≤-store)
7. [–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é](#7-–¥–æ–±–∞–≤–∏—Ç—å-–Ω–æ–≤—É—é-–≤–∞–ª–∏–¥–∞—Ü–∏—é)
8. [–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É](#8-–¥–æ–±–∞–≤–∏—Ç—å-–Ω–æ–≤—É—é-–∫–æ–Ω—Å—Ç–∞–Ω—Ç—É)
9. [–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ](#9-—Å–æ–∑–¥–∞—Ç—å-–Ω–æ–≤–æ–µ-–º–æ–¥–∞–ª—å–Ω–æ–µ-–æ–∫–Ω–æ)
10. [–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç](#10-–¥–æ–±–∞–≤–∏—Ç—å-–Ω–æ–≤—ã–π-ui-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç)

---

## 1. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –ø–æ–ª–µ –≤ –ø—Ä–∏–≤—ã—á–∫—É

**–ü—Ä–∏–º–µ—Ä:** –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `tags: string[]` –¥–ª—è –º–µ—Ç–æ–∫ –ø—Ä–∏–≤—ã—á–∫–∏

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Habit

üìÅ **–§–∞–π–ª:** `/types/habit.ts`

```typescript
export interface Habit {
  id: string;
  name: string;
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
  
  /** –ú–µ—Ç–∫–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ */
  tags?: string[];  // ‚Üê –î–û–ë–ê–í–ò–¢–¨
}
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å HabitData (–¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è)

üìÅ **–§–∞–π–ª:** `/types/habit.ts`

```typescript
export interface HabitData {
  name: string;
  description: string;
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
  
  tags?: string[];  // ‚Üê –î–û–ë–ê–í–ò–¢–¨
}
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å –≤ —Ñ–æ—Ä–º—É —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏–≤—ã—á–∫–∏

üìÅ **–§–∞–π–ª:** `/components/habits/add/AddHabitForm.tsx`

**A) –î–æ–±–∞–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
```typescript
const [tags, setTags] = useState<string[]>([]);
```

**B) –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –≤ JSX:**
```tsx
{/* –ú–µ—Ç–∫–∏ */}
<div>
  <label className="text-sm text-[var(--text-secondary)] mb-2">
    –ú–µ—Ç–∫–∏
  </label>
  <input
    type="text"
    value={tags.join(', ')}
    onChange={(e) => setTags(e.target.value.split(',').map(t => t.trim()))}
    placeholder="–ó–¥–æ—Ä–æ–≤—å–µ, —Å–ø–æ—Ä—Ç, —É—Ç—Ä–æ"
    className={INPUT_CLASSES.default}
  />
</div>
```

**C) –î–æ–±–∞–≤–∏—Ç—å –≤ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏:**
```typescript
const habitData: HabitData = {
  name,
  description,
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
  tags,  // ‚Üê –î–û–ë–ê–í–ò–¢–¨
};
```

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç—å action addHabit –≤ store

üìÅ **–§–∞–π–ª:** `/stores/habitsStore/slices/habits.ts`

```typescript
addHabit: (habitData) => {
  const newHabit: Habit = {
    id: Date.now().toString(),
    name: habitData.name,
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
    tags: habitData.tags || [],  // ‚Üê –î–û–ë–ê–í–ò–¢–¨
  };
  
  // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
}
```

### –®–∞–≥ 5: –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –ø—Ä–∏–≤—ã—á–∫–∏

üìÅ **–§–∞–π–ª:** `/components/habits/HabitRow.tsx`

```tsx
{/* –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—Ç–æ–∫ */}
{habit.tags && habit.tags.length > 0 && (
  <div className="flex gap-1 mt-1">
    {habit.tags.map(tag => (
      <span
        key={tag}
        className="px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs"
      >
        {tag}
      </span>
    ))}
  </div>
)}
```

### –®–∞–≥ 6: –î–æ–±–∞–≤–∏—Ç—å –≤ –º–æ–¥–∞–ª–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

üìÅ **–§–∞–π–ª:** `/components/habits/manage/EditHabitForm.tsx`

–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —à–∞–≥–∏ 3B –∏ 3C, –Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `habit.tags` –∫–∞–∫ –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

### ‚úÖ –ì–æ—Ç–æ–≤–æ!

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
1. –°–æ–∑–¥–∞–π –Ω–æ–≤—É—é –ø—Ä–∏–≤—ã—á–∫—É —Å –º–µ—Ç–∫–∞–º–∏
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –º–µ—Ç–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ localStorage
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –º–µ—Ç–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∫–∞—Ä—Ç–æ—á–∫–µ
4. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –º–µ—Ç–∫–∏ –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

---

## 2. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –µ–¥–∏–Ω–∏—Ü—É –∏–∑–º–µ—Ä–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä:** –î–æ–±–∞–≤–∏—Ç—å –µ–¥–∏–Ω–∏—Ü—É "–ø–æ–¥—ä—ë–º—ã" –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫

### –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫ –µ–¥–∏–Ω–∏—Ü

üìÅ **–§–∞–π–ª:** `/constants/units.ts`

```typescript
export const UNIT_OPTIONS = [
  // Counting units
  '—Ä–∞–∑—ã',
  '—à—Ç—É–∫–∏',
  '–±–∞–ª–ª—ã',
  '–ø–æ–¥—ä—ë–º—ã',  // ‚Üê –î–û–ë–ê–í–ò–¢–¨ —Å—é–¥–∞ (–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é)
  
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã
] as const;
```

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å —Å–∫–ª–æ–Ω–µ–Ω–∏–µ

üìÅ **–§–∞–π–ª:** `/utils/unitUtils.ts` ‚Üí —Ñ—É–Ω–∫—Ü–∏—è `declineUnit()`

```typescript
const declensions: Record<string, [string, string, string]> = {
  '—Ä–∞–∑—ã': ['—Ä–∞–∑', '—Ä–∞–∑–∞', '—Ä–∞–∑'],
  '–ø–æ–¥—ä—ë–º—ã': ['–ø–æ–¥—ä—ë–º', '–ø–æ–¥—ä—ë–º–∞', '–ø–æ–¥—ä—ë–º–æ–≤'],  // ‚Üê –î–û–ë–ê–í–ò–¢–¨
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ
};
```

**–§–æ—Ä–º–∞—Ç:** `[—Ñ–æ—Ä–º–∞1, —Ñ–æ—Ä–º–∞2, —Ñ–æ—Ä–º–∞5]`
- –§–æ—Ä–º–∞ 1: 1, 21, 31... (–æ–¥–∏–Ω –ø–æ–¥—ä—ë–º)
- –§–æ—Ä–º–∞ 2: 2-4, 22-24... (–¥–≤–∞ –ø–æ–¥—ä—ë–º–∞)
- –§–æ—Ä–º–∞ 5: 5-20, 25-30... (–ø—è—Ç—å –ø–æ–¥—ä—ë–º–æ–≤)

### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è

üìÅ **–§–∞–π–ª:** `/utils/unitUtils.ts` ‚Üí —Ñ—É–Ω–∫—Ü–∏—è `getShortUnit()`

```typescript
const shortUnits: Record<string, string> = {
  '—Ä–∞–∑—ã': '—Ä–∞–∑',
  '–ø–æ–¥—ä—ë–º—ã': '–ø–æ–¥—ä',  // ‚Üê –î–û–ë–ê–í–ò–¢–¨ (–¥–æ 4 —Å–∏–º–≤–æ–ª–æ–≤)
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ
};
```

### ‚úÖ –ì–æ—Ç–æ–≤–æ!

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
1. –°–æ–∑–¥–∞–π –∏–∑–º–µ—Ä–∏–º—É—é –ø—Ä–∏–≤—ã—á–∫—É —Å –Ω–æ–≤–æ–π –µ–¥–∏–Ω–∏—Ü–µ–π
2. –ü—Ä–æ–≤–µ—Ä—å —Å–∫–ª–æ–Ω–µ–Ω–∏–µ: "1 –ø–æ–¥—ä—ë–º", "2 –ø–æ–¥—ä—ë–º–∞", "5 –ø–æ–¥—ä—ë–º–æ–≤"
3. –ü—Ä–æ–≤–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ: "5 –ø–æ–¥—ä"
4. –ü—Ä–æ–≤–µ—Ä—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —á–∏—Å–µ–ª: "10000 –ø–æ–¥—ä" ‚Üí "10k –ø–æ–¥—ä"

---

## 3. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø —á–∞—Å—Ç–æ—Ç—ã

**–ü—Ä–∏–º–µ—Ä:** –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø "–∫–∞–∂–¥—É—é N –Ω–µ–¥–µ–ª—é" (`every_n_weeks`)

### ‚ö†Ô∏è –°–ª–æ–∂–Ω–æ—Å—Ç—å: –í–´–°–û–ö–ê–Ø

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:** 8+ —Ñ–∞–π–ª–æ–≤  
**–í—Ä–µ–º—è:** 30-60 –º–∏–Ω—É—Ç

### –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

üìÅ **–§–∞–π–ª:** `/types/habit.ts`

```typescript
export type FrequencyType =
  | 'daily'
  | 'every_n_days'
  | 'every_n_weeks'      // ‚Üê –î–û–ë–ê–í–ò–¢–¨
  | 'n_times_week'
  | 'n_times_month'
  | 'n_times_in_m_days'
  | 'by_days_of_week';
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å FrequencyConfig

üìÅ **–§–∞–π–ª:** `/types/habit.ts`

```typescript
export interface FrequencyConfig {
  type: FrequencyType;
  count?: number;
  period?: number;       // ‚Üê –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è weeks —Ç–æ–∂–µ
  daysOfWeek?: number[];
}
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

üìÅ **–§–∞–π–ª:** `/types/frequency.ts`

```typescript
export const DEFAULT_FREQUENCY_VALUES: FrequencyDefaultValues = {
  every_n_days: { period: 5 },
  every_n_weeks: { period: 2 },  // ‚Üê –î–û–ë–ê–í–ò–¢–¨ (–∫–∞–∂–¥—ã–µ 2 –Ω–µ–¥–µ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ
} as const;
```

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å LocalFrequencyValues

üìÅ **–§–∞–π–ª:** `/types/frequency.ts`

```typescript
export interface LocalFrequencyValues {
  every_n_days: { period: number | undefined };
  every_n_weeks: { period: number | undefined };  // ‚Üê –î–û–ë–ê–í–ò–¢–¨
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ
}
```

### –®–∞–≥ 5: –î–æ–±–∞–≤–∏—Ç—å –≤ FrequencyEditor

üìÅ **–§–∞–π–ª:** `/components/habits/add/FrequencyEditor.tsx`

**A) –î–æ–±–∞–≤–∏—Ç—å –æ–ø—Ü–∏—é –≤ select:**
```tsx
<option value="every_n_weeks">–ö–∞–∂–¥—É—é N –Ω–µ–¥–µ–ª—é</option>
```

**B) –î–æ–±–∞–≤–∏—Ç—å conditional rendering –¥–ª—è –≤–≤–æ–¥–∞:**
```tsx
{frequencyType === 'every_n_weeks' && (
  <div className="mt-3">
    <label className="text-sm text-[var(--text-secondary)] mb-2">
      –ö–∞–∂–¥—É—é
    </label>
    <div className="flex items-center gap-2">
      <input
        type="number"
        min="1"
        max="52"
        value={frequencyPeriod || ''}
        onChange={(e) => onFrequencyPeriodChange(Number(e.target.value))}
        className={INPUT_CLASSES.default}
      />
      <span className="text-sm text-[var(--text-secondary)]">–Ω–µ–¥–µ–ª—é</span>
    </div>
  </div>
)}
```

### –®–∞–≥ 6: –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Ä–∞—Å—á—ë—Ç–∞ –º–µ—Å—è—á–Ω–æ–π —Ü–µ–ª–∏

üìÅ **–§–∞–π–ª:** `/utils/habitUtils.ts` ‚Üí —Ñ—É–Ω–∫—Ü–∏—è `getMonthlyGoalFromFrequency()`

```typescript
switch (frequency.type) {
  case 'every_n_weeks': {
    // –ö–∞–∂–¥—É—é N –Ω–µ–¥–µ–ª—é
    const weeks = frequency.period || 1;
    const weeksInMonth = daysInMonth / 7;
    return Math.floor(weeksInMonth / weeks);
  }
  
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ cases
}
```

### –®–∞–≥ 7: –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

üìÅ **–§–∞–π–ª:** `/utils/habitUtils.ts` ‚Üí —Ñ—É–Ω–∫—Ü–∏—è `formatFrequency()`

```typescript
switch (frequency.type) {
  case 'every_n_weeks': {
    const weeks = frequency.period || 1;
    return `–ö–∞–∂–¥—É—é ${weeks} ${declineWeeks(weeks)}`;  // "–ö–∞–∂–¥—É—é 2 –Ω–µ–¥–µ–ª–∏"
  }
  
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ cases
}
```

### –®–∞–≥ 8: –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é —Å–∫–ª–æ–Ω–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

üìÅ **–§–∞–π–ª:** `/utils/declineWords.ts`

```typescript
export function declineWeeks(num: number): string {
  const lastDigit = num % 10;
  const lastTwoDigits = num % 100;
  
  if (lastTwoDigits >= 11 && lastTwoDigits <= 19) return '–Ω–µ–¥–µ–ª—å';
  if (lastDigit === 1) return '–Ω–µ–¥–µ–ª—é';
  if (lastDigit >= 2 && lastDigit <= 4) return '–Ω–µ–¥–µ–ª–∏';
  return '–Ω–µ–¥–µ–ª—å';
}
```

### –®–∞–≥ 9: –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é

üìÅ **–§–∞–π–ª:** `/utils/frequencyValidation.ts`

```typescript
case 'every_n_weeks': {
  if (!frequency.period || frequency.period < 1 || frequency.period > 52) {
    return '–£–∫–∞–∂–∏—Ç–µ –ø–µ—Ä–∏–æ–¥ –æ—Ç 1 –¥–æ 52 –Ω–µ–¥–µ–ª—å';
  }
  break;
}
```

### ‚úÖ –ì–æ—Ç–æ–≤–æ!

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
1. –°–æ–∑–¥–∞–π –ø—Ä–∏–≤—ã—á–∫—É —Å "–ö–∞–∂–¥—É—é 2 –Ω–µ–¥–µ–ª—é"
2. –ü—Ä–æ–≤–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∫–∞—Ä—Ç–æ—á–∫–µ
3. –ü—Ä–æ–≤–µ—Ä—å —Ä–∞—Å—á—ë—Ç –º–µ—Å—è—á–Ω–æ–π —Ü–µ–ª–∏
4. –ü—Ä–æ–≤–µ—Ä—å –≤–∞–ª–∏–¥–∞—Ü–∏—é (0 –Ω–µ–¥–µ–ª—å, 100 –Ω–µ–¥–µ–ª—å)

---

## 4. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é

**–ü—Ä–∏–º–µ—Ä:** –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é "–†–∞–±–æ—Ç–∞" —Å —Å–µ—Ä—ã–º —Ü–≤–µ—Ç–æ–º

### –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å –≤ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

üìÅ **–§–∞–π–ª:** `/utils/initializeCategories.ts`

```typescript
export const DEFAULT_CATEGORIES = [
  { id: '1', name: '–ó–¥–æ—Ä–æ–≤—å–µ', color: 'bg-green-200 text-green-800 border-green-300' },
  { id: '2', name: '–°–ø–æ—Ä—Ç', color: 'bg-blue-200 text-blue-800 border-blue-300' },
  { id: '3', name: '–ß—Ç–µ–Ω–∏–µ', color: 'bg-purple-200 text-purple-800 border-purple-300' },
  { id: '4', name: '–†–∞–±–æ—Ç–∞', color: 'bg-gray-200 text-gray-800 border-gray-300' },  // ‚Üê –î–û–ë–ê–í–ò–¢–¨
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ
];
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ü–≤–µ—Ç –µ—Å—Ç—å –≤ —Å–ø–∏—Å–∫–µ

üìÅ **–§–∞–π–ª:** `/constants/colors.ts`

```typescript
export const CATEGORY_COLORS = [
  'bg-gray-200 text-gray-800 border-gray-300',  // ‚úÖ –£–∂–µ –µ—Å—Ç—å
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ
];
```

### ‚úÖ –ì–æ—Ç–æ–≤–æ!

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ö–∞—Ç–µ–≥–æ—Ä–∏—è –ø–æ—è–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∑–∞–ø—É—Å–∫–∞–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è –ù–ï –¥–æ–±–∞–≤–∏—Ç—Å—è (localStorage —É–∂–µ –∑–∞–ø–æ–ª–Ω–µ–Ω)

**–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º:**
üìÅ **–§–∞–π–ª:** `/stores/habitsStore/slices/categories.ts` ‚Üí –¥–æ–±–∞–≤—å –º–∏–≥—Ä–∞—Ü–∏—é

```typescript
// –í initialState.ts –∏–ª–∏ –≤ migrations
if (!categories.find(c => c.name === '–†–∞–±–æ—Ç–∞')) {
  categories.push({
    id: Date.now().toString(),
    name: '–†–∞–±–æ—Ç–∞',
    color: 'bg-gray-200 text-gray-800 border-gray-300',
  });
}
```

---

## 5. –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º—É–ª—É EMA (—Å–∏–ª—ã –ø—Ä–∏–≤—ã—á–∫–∏)

**–ü—Ä–∏–º–µ—Ä:** –ò–∑–º–µ–Ω–∏—Ç—å –ø–µ—Ä–∏–æ–¥ —Å N=32 –Ω–∞ N=64 –¥–Ω—è

### ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: –í–ª–∏—è–µ—Ç –Ω–∞ –≤—Å—é –ª–æ–≥–∏–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è!

### –®–∞–≥ 1: –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É N

üìÅ **–§–∞–π–ª:** `/utils/strengthCalculator.ts` ‚Üí —Ñ—É–Ω–∫—Ü–∏—è `recalculateStrength()`

```typescript
export const recalculateStrength = (habit: Habit, changedDate?: string): Habit => {
  const N = 64; // ‚Üê –ò–ó–ú–ï–ù–ò–¢–¨ (–±—ã–ª–æ 32)
  
  // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

üìÅ **–§–∞–π–ª:** `/docs/BUSINESS_LOGIC.md`

```markdown
### –§–æ—Ä–º—É–ª–∞ EMA

N = 64 –¥–Ω—è (–ø–µ—Ä–∏–æ–¥ ~2 –º–µ—Å—è—Ü–∞)  <!-- –ò–ó–ú–ï–ù–ò–¢–¨ -->
Œ± = 1/N = 1/64 ‚âà 0.015625       <!-- –ò–ó–ú–ï–ù–ò–¢–¨ -->
```

### –®–∞–≥ 3: –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã

```markdown
–î–µ–Ω—å 64 (–ø–æ–ª–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ): –°–∏–ª–∞ ‚âà 63%   <!-- –û–ë–ù–û–í–ò–¢–¨ -->
–î–µ–Ω—å 128 (–ø–æ–ª–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ): –°–∏–ª–∞ ‚âà 86%  <!-- –û–ë–ù–û–í–ò–¢–¨ -->
–î–µ–Ω—å 192 (–ø–æ–ª–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ): –°–∏–ª–∞ ‚âà 95%  <!-- –û–ë–ù–û–í–ò–¢–¨ -->
```

### ‚ö†Ô∏è –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è N:

| N | –°–∫–æ—Ä–æ—Å—Ç—å —Ä–æ—Å—Ç–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|----------------|----------|
| 16 | –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ | –°–∏–ª–∞ —Ä–∞—Å—Ç—ë—Ç –∑–∞ 2 –Ω–µ–¥–µ–ª–∏, –Ω–æ –Ω–µ—É—Å—Ç–æ–π—á–∏–≤–∞ |
| 32 | –ë—ã—Å—Ç—Ä–æ (—Ç–µ–∫—É—â–∞—è) | –ë–∞–ª–∞–Ω—Å: –∑–∞ –º–µ—Å—è—Ü –Ω–∞–±–∏—Ä–∞–µ—Ç—Å—è ~63% |
| 64 | –ú–µ–¥–ª–µ–Ω–Ω–æ | –¢—Ä–µ–±—É–µ—Ç—Å—è 2 –º–µ—Å—è—Ü–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ |
| 128 | –û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ | –ü—Ä–∏–≤—ã—á–∫–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –ø–æ–ª–≥–æ–¥–∞ |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** N=32 ‚Äî –Ω–∞—É—á–Ω–æ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏–≤—ã—á–∫–∏.

### ‚úÖ –ì–æ—Ç–æ–≤–æ!

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
1. –û—á–∏—Å—Ç–∏ localStorage (–¥–ª—è —á–∏—Å—Ç–æ–≥–æ —Ç–µ—Å—Ç–∞)
2. –°–æ–∑–¥–∞–π –ø—Ä–∏–≤—ã—á–∫—É –∏ –≤—ã–ø–æ–ª–Ω—è–π N –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Å–∏–ª–∞ ‚âà 63% –Ω–∞ N-–π –¥–µ–Ω—å
4. –ü—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ—Å—á—ë—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ä—ã—Ö –≥–∞–ª–æ—á–µ–∫

---

## 6. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π action –≤ store

**–ü—Ä–∏–º–µ—Ä:** –î–æ–±–∞–≤–∏—Ç—å action `archiveHabit(habitId)` –¥–ª—è –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏

### –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Habit (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

üìÅ **–§–∞–π–ª:** `/types/habit.ts`

```typescript
export interface Habit {
  id: string;
  name: string;
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
  archived?: boolean;  // ‚Üê –î–û–ë–ê–í–ò–¢–¨
}
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã store

üìÅ **–§–∞–π–ª:** `/stores/habitsStore/types.ts`

```typescript
export interface HabitsState {
  // ... state
  habits: Habit[];
  
  // ... actions
  archiveHabit: (habitId: string) => void;  // ‚Üê –î–û–ë–ê–í–ò–¢–¨
}
```

### –®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å action –≤ slice

üìÅ **–§–∞–π–ª:** `/stores/habitsStore/slices/habits.ts`

```typescript
export const createHabitsSlice: StateCreator<
  HabitsState,
  [],
  [],
  Pick<
    HabitsState,
    | 'addHabit'
    | 'deleteHabit'
    | 'archiveHabit'  // ‚Üê –î–û–ë–ê–í–ò–¢–¨ –≤ Pick
  >
> = (set, get) => ({
  
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ actions
  
  archiveHabit: (habitId: string) => {
    habitLogger.info('Archive habit', habitId);
    
    set((state) => ({
      habits: state.habits.map((habit) =>
        habit.id === habitId
          ? { ...habit, archived: true }
          : habit
      ),
    }));
  },
});
```

### –®–∞–≥ 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ

üìÅ **–§–∞–π–ª:** `/components/habits/HabitRow.tsx`

```typescript
import { useHabitsStore } from '../../stores/habitsStore';

function HabitRow({ habit }: { habit: Habit }) {
  const archiveHabit = useHabitsStore((state) => state.archiveHabit);
  
  const handleArchive = () => {
    archiveHabit(habit.id);
  };
  
  return (
    <button onClick={handleArchive}>
      –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å
    </button>
  );
}
```

### ‚úÖ –ì–æ—Ç–æ–≤–æ!

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
1. –ê—Ä—Ö–∏–≤–∏—Ä—É–π –ø—Ä–∏–≤—ã—á–∫—É
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ `archived: true` –≤ localStorage
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø—Ä–∏–≤—ã—á–∫–∞ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)

---

## 7. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é

**–ü—Ä–∏–º–µ—Ä:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏ –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è

### –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤–∞–ª–∏–¥–∞—Ü–∏–∏

üìÅ **–§–∞–π–ª:** `/constants/validation.ts`

```typescript
/**
 * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ
 */
export function validateUniqueHabitName(
  name: string,
  existingHabits: Habit[],
  currentHabitId?: string
): string | null {
  const normalizedName = name.trim().toLowerCase();
  
  const isDuplicate = existingHabits.some(
    (habit) =>
      habit.id !== currentHabitId &&
      habit.name.trim().toLowerCase() === normalizedName
  );
  
  if (isDuplicate) {
    return '–ü—Ä–∏–≤—ã—á–∫–∞ —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç';
  }
  
  return null;
}
```

### –®–∞–≥ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ñ–æ—Ä–º–µ

üìÅ **–§–∞–π–ª:** `/components/habits/add/AddHabitForm.tsx`

```typescript
import { validateUniqueHabitName } from '../../../constants/validation';
import { useHabitsStore } from '../../../stores/habitsStore';

function AddHabitForm() {
  const [name, setName] = useState('');
  const [nameError, setNameError] = useState<string | null>(null);
  
  const habits = useHabitsStore((state) => state.habits);
  
  const handleNameChange = (value: string) => {
    setName(value);
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª–∏–Ω—ã (—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è)
    if (value.length > MAX_HABIT_NAME_LENGTH) {
      setNameError('–°–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ');
      return;
    }
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ (–Ω–æ–≤–∞—è)
    const uniqueError = validateUniqueHabitName(value, habits);
    setNameError(uniqueError);
  };
  
  const handleSubmit = () => {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
    if (nameError) {
      return;
    }
    
    // ... —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
  };
  
  return (
    <div>
      <input
        value={name}
        onChange={(e) => handleNameChange(e.target.value)}
        className={nameError ? INPUT_CLASSES.error : INPUT_CLASSES.default}
      />
      {nameError && (
        <p className="text-xs text-red-500 mt-1">{nameError}</p>
      )}
    </div>
  );
}
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

üìÅ **–§–∞–π–ª:** `/constants/validation.ts`

```typescript
export const VALIDATION_MESSAGES = {
  HABIT_NAME_TOO_LONG: '–ù–∞–∑–≤–∞–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ',
  HABIT_NAME_DUPLICATE: '–ü—Ä–∏–≤—ã—á–∫–∞ —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç',
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ
};
```

### ‚úÖ –ì–æ—Ç–æ–≤–æ!

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
1. –°–æ–∑–¥–∞–π –ø—Ä–∏–≤—ã—á–∫—É "–ó–∞—Ä—è–¥–∫–∞"
2. –ü–æ–ø—Ä–æ–±—É–π —Å–æ–∑–¥–∞—Ç—å –µ—â—ë –æ–¥–Ω—É "–ó–∞—Ä—è–¥–∫–∞" ‚Üí –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞
3. –ü–æ–ø—Ä–æ–±—É–π —Å–æ–∑–¥–∞—Ç—å "–∑–∞—Ä—è–¥–∫–∞" (lowercase) ‚Üí –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞
4. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–≤–æ—ë –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –¥—É–±–ª–∏–∫–∞—Ç–æ–º

---

## 8. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É

**–ü—Ä–∏–º–µ—Ä:** –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

### –®–∞–≥ 1: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≥–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É

**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç:**
- **UI:** —Ä–∞–∑–º–µ—Ä—ã, –æ—Ç—Å—Ç—É–ø—ã, –∞–Ω–∏–º–∞—Ü–∏–∏ ‚Üí `/constants/ui.ts`
- **–¶–≤–µ—Ç–∞:** –ø–∞–ª–∏—Ç—Ä–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Üí `/constants/colors.ts`
- **–í–∞–ª–∏–¥–∞—Ü–∏—è:** –ª–∏–º–∏—Ç—ã, –ø—Ä–∞–≤–∏–ª–∞ ‚Üí `/constants/validation.ts`
- **–°—Ç–∏–ª–∏:** –∫–ª–∞—Å—Å—ã, z-index ‚Üí `/constants/styles.ts`
- **–ò–∫–æ–Ω–∫–∏:** —Å–ø–∏—Å–æ–∫ –∏–∫–æ–Ω–æ–∫ ‚Üí `/constants/icons.ts`
- **–ï–¥–∏–Ω–∏—Ü—ã:** –∏–∑–º–µ—Ä–µ–Ω–∏—è ‚Üí `/constants/units.ts`

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É

üìÅ **–§–∞–π–ª:** `/constants/validation.ts`

```typescript
/**
 * –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
 */
export const MAX_CATEGORIES = 20;
```

### –®–∞–≥ 3: –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ index.ts

üìÅ **–§–∞–π–ª:** `/constants/index.ts`

```typescript
export {
  MAX_HABIT_NAME_LENGTH,
  MAX_CATEGORIES,  // ‚Üê –î–û–ë–ê–í–ò–¢–¨
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ
} from './validation';
```

### –®–∞–≥ 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–¥–µ

üìÅ **–§–∞–π–ª:** `/components/categories/AddCategoryButton.tsx`

```typescript
import { MAX_CATEGORIES } from '../../constants';

function AddCategoryButton() {
  const categories = useHabitsStore((state) => state.categories);
  
  const canAddCategory = categories.length < MAX_CATEGORIES;
  
  return (
    <button disabled={!canAddCategory}>
      {canAddCategory ? '–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é' : `–ú–∞–∫—Å–∏–º—É–º ${MAX_CATEGORIES} –∫–∞—Ç–µ–≥–æ—Ä–∏–π`}
    </button>
  );
}
```

### ‚úÖ –ì–æ—Ç–æ–≤–æ!

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏–∏:**
- ‚úÖ –û–¥–Ω–æ –º–µ—Å—Ç–æ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
- ‚úÖ –õ–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –≤—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- ‚úÖ TypeScript –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
- ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

---

## 9. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ

**–ü—Ä–∏–º–µ—Ä:** –°–æ–∑–¥–∞—Ç—å –º–æ–¥–∞–ª–∫—É "–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö"

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–¥–∞–ª–∫–∏

üìÅ **–§–∞–π–ª:** `/components/modals/ExportDataModal.tsx`

```typescript
import { X } from 'lucide-react';
import { MODAL_STYLES, MODAL_WIDTHS } from '../../constants/styles';

interface ExportDataModalProps {
  isOpen: boolean;
  onClose: () => void;
}

export function ExportDataModal({ isOpen, onClose }: ExportDataModalProps) {
  if (!isOpen) return null;
  
  const handleExport = () => {
    // –õ–æ–≥–∏–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞
    console.log('Exporting data...');
    onClose();
  };
  
  return (
    <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50">
      <div className={`${MODAL_STYLES.container} ${MODAL_WIDTHS.medium}`}>
        {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */}
        <div className="flex items-center justify-between mb-6">
          <h2 className="text-xl">–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</h2>
          <button
            onClick={onClose}
            className="text-[var(--text-secondary)] hover:text-[var(--text-primary)]"
          >
            <X className="w-5 h-5" />
          </button>
        </div>
        
        {/* –ö–æ–Ω—Ç–µ–Ω—Ç */}
        <div className="mb-6">
          <p className="text-[var(--text-secondary)]">
            –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø—Ä–∏–≤—ã—á–∫–∏ –∏ –¥–∞–Ω–Ω—ã–µ –≤ JSON —Ñ–∞–π–ª?
          </p>
        </div>
        
        {/* –ö–Ω–æ–ø–∫–∏ */}
        <div className="flex gap-3 justify-end">
          <button
            onClick={onClose}
            className="px-4 py-2 bg-[var(--bg-secondary)] hover:bg-[var(--bg-hover)] rounded-lg"
          >
            –û—Ç–º–µ–Ω–∞
          </button>
          <button
            onClick={handleExport}
            className="px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg"
          >
            –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
          </button>
        </div>
      </div>
    </div>
  );
}
```

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å state –≤ store

üìÅ **–§–∞–π–ª:** `/stores/habitsStore/types.ts`

```typescript
export interface HabitsState {
  // ... modals state
  isAddHabitModalOpen: boolean;
  isExportModalOpen: boolean;  // ‚Üê –î–û–ë–ê–í–ò–¢–¨
  
  // ... modal actions
  openExportModal: () => void;   // ‚Üê –î–û–ë–ê–í–ò–¢–¨
  closeExportModal: () => void;  // ‚Üê –î–û–ë–ê–í–ò–¢–¨
}
```

### –®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å actions –≤ modals slice

üìÅ **–§–∞–π–ª:** `/stores/habitsStore/slices/modals.ts`

```typescript
export const createModalsSlice: StateCreator<
  HabitsState,
  [],
  [],
  Pick<HabitsState, 'isExportModalOpen' | 'openExportModal' | 'closeExportModal'>
> = (set) => ({
  isExportModalOpen: false,
  
  openExportModal: () => {
    set({ isExportModalOpen: true });
  },
  
  closeExportModal: () => {
    set({ isExportModalOpen: false });
  },
});
```

### –®–∞–≥ 4: –î–æ–±–∞–≤–∏—Ç—å –≤ initialState

üìÅ **–§–∞–π–ª:** `/stores/habitsStore/initialState.ts`

```typescript
export const initialState = {
  // ... modals
  isAddHabitModalOpen: false,
  isExportModalOpen: false,  // ‚Üê –î–û–ë–ê–í–ò–¢–¨
};
```

### –®–∞–≥ 5: –ü–æ–¥–∫–ª—é—á–∏—Ç—å –≤ AppModals

üìÅ **–§–∞–π–ª:** `/components/modals/AppModals.tsx`

```typescript
import { ExportDataModal } from './ExportDataModal';

export function AppModals() {
  const isExportModalOpen = useHabitsStore((state) => state.isExportModalOpen);
  const closeExportModal = useHabitsStore((state) => state.closeExportModal);
  
  return (
    <>
      {/* –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–æ–¥–∞–ª–∫–∏ */}
      <AddHabitModal />
      
      {/* –ù–æ–≤–∞—è –º–æ–¥–∞–ª–∫–∞ */}
      <ExportDataModal
        isOpen={isExportModalOpen}
        onClose={closeExportModal}
      />
    </>
  );
}
```

### –®–∞–≥ 6: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ

üìÅ **–§–∞–π–ª:** `/components/layout/Navbar.tsx`

```typescript
import { useHabitsStore } from '../../stores/habitsStore';

function Navbar() {
  const openExportModal = useHabitsStore((state) => state.openExportModal);
  
  return (
    <button onClick={openExportModal}>
      –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
    </button>
  );
}
```

### ‚úÖ –ì–æ—Ç–æ–≤–æ!

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
1. –ö–ª–∏–∫–Ω–∏ –∫–Ω–æ–ø–∫—É "–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö"
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –º–æ–¥–∞–ª–∫–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
3. –ü—Ä–æ–≤–µ—Ä—å –∫–Ω–æ–ø–∫—É "–û—Ç–º–µ–Ω–∞" (–∑–∞–∫—Ä—ã–≤–∞–µ—Ç)
4. –ü—Ä–æ–≤–µ—Ä—å –∫–Ω–æ–ø–∫—É "–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å" (–≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç)
5. –ü—Ä–æ–≤–µ—Ä—å –∫–ª–∏–∫ –≤–Ω–µ –º–æ–¥–∞–ª–∫–∏ (–¥–æ–ª–∂–Ω–∞ –∑–∞–∫—Ä—ã–≤–∞—Ç—å—Å—è)

---

## 10. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

**–ü—Ä–∏–º–µ—Ä:** –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Badge (–∑–Ω–∞—á–æ–∫)

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

üìÅ **–§–∞–π–ª:** `/components/ui/badge.tsx`

```typescript
import { cn } from './utils';

export type BadgeVariant = 'default' | 'success' | 'warning' | 'error';

interface BadgeProps {
  children: React.ReactNode;
  variant?: BadgeVariant;
  className?: string;
}

const BADGE_VARIANTS: Record<BadgeVariant, string> = {
  default: 'bg-gray-100 text-gray-700',
  success: 'bg-green-100 text-green-700',
  warning: 'bg-yellow-100 text-yellow-700',
  error: 'bg-red-100 text-red-700',
};

export function Badge({ children, variant = 'default', className }: BadgeProps) {
  return (
    <span
      className={cn(
        'inline-flex items-center px-2 py-0.5 rounded text-xs font-medium',
        BADGE_VARIANTS[variant],
        className
      )}
    >
      {children}
    </span>
  );
}
```

### –®–∞–≥ 2: –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ index

üìÅ **–§–∞–π–ª:** `/components/ui/index.ts`

```typescript
export { Badge } from './badge';
export type { BadgeVariant } from './badge';
```

### –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–¥–µ

üìÅ **–§–∞–π–ª:** `/components/habits/HabitRow.tsx`

```typescript
import { Badge } from '../ui';

function HabitRow({ habit }: { habit: Habit }) {
  return (
    <div>
      <span>{habit.name}</span>
      
      {habit.strength >= 67 && (
        <Badge variant="success">–°–∏–ª—å–Ω–∞—è</Badge>
      )}
      
      {habit.type === 'measurable' && (
        <Badge variant="default">–ò–∑–º–µ—Ä–∏–º–∞—è</Badge>
      )}
    </div>
  );
}
```

### ‚úÖ –ì–æ—Ç–æ–≤–æ!

**–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π `cn()` –¥–ª—è —É—Å–ª–æ–≤–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π —Ç–∏–ø—ã –≤–º–µ—Å—Ç–µ —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º
- ‚úÖ –°–æ–∑–¥–∞–≤–∞–π –≤–∞—Ä–∏–∞–Ω—Ç—ã —á–µ—Ä–µ–∑ Record –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –î–æ–±–∞–≤—å `className` prop –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Å—Ç–∏–ª–µ–π

---

## üîç –ü–æ–∏—Å–∫ –ø–æ –∑–∞–¥–∞—á–∞–º

**–ö–∞–∫ –Ω–∞–π—Ç–∏ –≥–¥–µ —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**

### –¢–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:
```bash
/types/habit.ts       # Habit, HabitData, FrequencyConfig
/types/frequency.ts   # FrequencyType, FrequencyEditorProps
```

### –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞:
```bash
/utils/strengthCalculator.ts  # –†–∞—Å—á—ë—Ç —Å–∏–ª—ã (EMA)
/utils/habitUtils.ts           # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –ø—Ä–æ–≥—Ä–µ—Å—Å, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
/utils/unitUtils.ts            # –°–∫–ª–æ–Ω–µ–Ω–∏–µ –µ–¥–∏–Ω–∏—Ü, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
/utils/dateUtils.ts            # –†–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏
```

### Store (—Å–æ—Å—Ç–æ—è–Ω–∏–µ):
```bash
/stores/habitsStore/slices/habits.ts      # CRUD –ø—Ä–∏–≤—ã—á–µ–∫
/stores/habitsStore/slices/modals.ts      # –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
/stores/habitsStore/slices/ui.ts          # UI (sidebar, date)
/stores/habitsStore/slices/categories.ts  # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
```bash
/components/habits/          # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–∏–≤—ã—á–µ–∫
/components/modals/          # –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
/components/calendar/        # –ö–∞–ª–µ–Ω–¥–∞—Ä—å
/components/ui/              # UI kit
```

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã:
```bash
/constants/units.ts       # –ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è
/constants/colors.ts      # –¶–≤–µ—Ç–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π, —Å—Ç–∞—Ç—É—Å–æ–≤
/constants/validation.ts  # –õ–∏–º–∏—Ç—ã, –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
/constants/ui.ts          # –†–∞–∑–º–µ—Ä—ã, –æ—Ç—Å—Ç—É–ø—ã
/constants/styles.ts      # –ö–ª–∞—Å—Å—ã, z-index
```

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- **`/docs/BUSINESS_LOGIC.md`** - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- **`/guidelines/FileStructure.md`** - –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- **`/docs/MODAL_SYSTEM.md`** - –°–∏—Å—Ç–µ–º–∞ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
- **`/docs/ZUSTAND_QUICKSTART.md`** - –†–∞–±–æ—Ç–∞ —Å–æ store
- **`/constants/README.md`** - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –∑–∞–∫–æ–Ω—á–∏—Ç—å –∑–∞–¥–∞—á—É, –ø—Ä–æ–≤–µ—Ä—å:

- [ ] –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–∏–ø—ã TypeScript?
- [ ] –î–æ–±–∞–≤ÔøΩÔøΩ–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º?
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)?
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ –≤ UI?
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage?
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è?
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏?
- [ ] –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —ç–∫—Ä–∞–Ω–∞—Ö (–º–æ–±–∏–ª—å–Ω—ã–π/–¥–µ—Å–∫—Ç–æ–ø)?

---

**–í–æ–ø—Ä–æ—Å—ã?** –°–º–æ—Ç—Ä–∏ –∫–æ–¥ –∏–ª–∏ —Å–ø—Ä–∞—à–∏–≤–∞–π! üöÄ
