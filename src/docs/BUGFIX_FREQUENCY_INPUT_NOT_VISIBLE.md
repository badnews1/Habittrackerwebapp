# üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –í–≤–µ–¥—ë–Ω–Ω—ã–µ —Ü–∏—Ñ—Ä—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ø–æ–ª—è—Ö —á–∞—Å—Ç–æ—Ç—ã

> **–î–∞—Ç–∞:** 20 –Ω–æ—è–±—Ä—è 2025  
> **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
> **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

---

## üîç –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —á–∞—Å—Ç–æ—Ç—ã –ø—Ä–∏–≤—ã—á–∫–∏, –≤–≤–µ–¥—ë–Ω–Ω—ã–µ –≤ input –ø–æ–ª—è —Ü–∏—Ñ—Ä—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏–ª —á–∏—Å–ª–∞, –Ω–æ –ø–æ–ª–µ –æ—Å—Ç–∞–≤–∞–ª–æ—Å—å –ø—É—Å—Ç—ã–º –∏–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞–ª–æ —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

### –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:

1. ‚úÖ –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–ù–æ–≤–∞—è –ø—Ä–∏–≤—ã—á–∫–∞" –∏–ª–∏ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∞–º–∏"
2. ‚úÖ –ù–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É"
3. ‚úÖ –í—ã–±—Ä–∞—Ç—å "N —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é"
4. ‚úÖ –ö–ª–∏–∫–Ω—É—Ç—å –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ —á–∏—Å–ª–∞
5. ‚úÖ –í–≤–µ—Å—Ç–∏ —Ü–∏—Ñ—Ä—É, –Ω–∞–ø—Ä–∏–º–µ—Ä "3"
6. ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞:** –¶–∏—Ñ—Ä–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞

### –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Å–µ–∫—Ü–∏–∏:

- ‚ùå "N —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é"
- ‚ùå "N —Ä–∞–∑ –≤ –º–µ—Å—è—Ü"
- ‚ùå "–ö–∞–∂–¥—ã–µ N –¥–Ω–µ–π"
- ‚ùå "N —Ä–∞–∑ –≤ M –¥–Ω–µ–π"

---

## üïµÔ∏è –ê–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω—ã

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —á–∞—Å—Ç–æ—Ç—ã:

```
FrequencyEditor.tsx
    ‚Üì –ø–µ—Ä–µ–¥–∞—ë—Ç –ø—Ä–æ–ø—Å—ã
NTimesWeekSection.tsx
    ‚Üì –ø–µ—Ä–µ–¥–∞—ë—Ç –ø—Ä–æ–ø—Å—ã
SingleInputFrequencySection.tsx
    ‚Üì –ø–µ—Ä–µ–¥–∞—ë—Ç –ø—Ä–æ–ø—Å—ã
FrequencyInput.tsx
    ‚Üì –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ
```

### –î–≤–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –±–∞–≥–∞:

#### 1Ô∏è‚É£ `/components/shared/frequency/FrequencyEditor.tsx` (—Å—Ç—Ä–æ–∫–∏ 61-96)

**‚ùå –ë—ã–ª–æ:**
```typescript
{/* N Times per Week */}
<NTimesWeekSection
  isActive={frequencyType === 'n_times_week'}
  count={localValues.n_times_week.count ?? frequencyCount}  // ‚Üê –°–º–µ—à–∞–Ω—ã –∑–Ω–∞—á–µ–Ω–∏—è!
  // ‚ùå localCount –ù–ï –ü–ï–†–ï–î–ê–Å–¢–°–Ø!
  onActivate={() => handleTypeChange('n_times_week')}
  onCountChange={(value) => handleCountChange(value, 'n_times_week')}
  onCountBlur={() => handleCountBlur('n_times_week')}
/>
```

**–ü—Ä–æ–±–ª–µ–º–∞:** 
- –í –ø—Ä–æ–ø `count` –ø–µ—Ä–µ–¥–∞–≤–∞–ª–æ—Å—å `localValues.n_times_week.count ?? frequencyCount`
- –ù–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–ø `localCount` –≤–æ–æ–±—â–µ –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–ª—Å—è
- `SingleInputFrequencySection` –æ–∂–∏–¥–∞–µ—Ç `localValue` –¥–ª—è input –ø–æ–ª—è
- –ë–µ–∑ `localCount` –ø–æ–ª–µ –Ω–µ –∑–Ω–∞–µ—Ç, –∫–∞–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –ø—Ä–∏ –≤–≤–æ–¥–µ

---

#### 2Ô∏è‚É£ `/components/shared/frequency/FrequencyInput.tsx` (—Å—Ç—Ä–æ–∫–∏ 64-68)

**‚ùå –ë—ã–ª–æ:**
```typescript
onChange={(e) => {
  e.stopPropagation();
  if (isActive) {  // ‚Üê –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è!
    onChange(e.target.value);
  }
}}
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ input –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç `onActivate()` - –Ω–æ —ç—Ç–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
- –°—Ä–∞–∑—É –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞ `isActive` –µ—â—ë `false`
- –ö–æ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `onChange`, –ø—Ä–æ–≤–µ—Ä–∫–∞ `if (isActive)` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `false`
- –ö–æ–ª–±—ç–∫ `onChange` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è ‚Üí –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è ‚Üí –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1Ô∏è‚É£ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω FrequencyEditor.tsx

**–§–∞–π–ª:** `/components/shared/frequency/FrequencyEditor.tsx`

**–°—Ç—Ä–æ–∫–∏:** 61-96

```typescript
{/* N Times per Week */}
<NTimesWeekSection
  isActive={frequencyType === 'n_times_week'}
  count={frequencyCount}                           // ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  localCount={localValues.n_times_week.count}      // ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ –¥–ª—è input
  onActivate={() => handleTypeChange('n_times_week')}
  onCountChange={(value) => handleCountChange(value, 'n_times_week')}
  onCountBlur={() => handleCountBlur('n_times_week')}
/>

{/* N Times per Month */}
<NTimesMonthSection
  isActive={frequencyType === 'n_times_month'}
  count={frequencyCount}                           // ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  localCount={localValues.n_times_month.count}     // ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ –¥–ª—è input
  onActivate={() => handleTypeChange('n_times_month')}
  onCountChange={(value) => handleCountChange(value, 'n_times_month')}
  onCountBlur={() => handleCountBlur('n_times_month')}
/>

{/* Every N Days */}
<EveryNDaysSection
  isActive={frequencyType === 'every_n_days'}
  period={frequencyPeriod}                          // ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  localPeriod={localValues.every_n_days.period}     // ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ –¥–ª—è input
  onActivate={() => handleTypeChange('every_n_days')}
  onPeriodChange={(value) => handlePeriodChange(value, 'every_n_days')}
  onPeriodBlur={() => handlePeriodBlur('every_n_days')}
/>

{/* N Times in M Days */}
<NTimesInMDaysSection
  isActive={frequencyType === 'n_times_in_m_days'}
  count={frequencyCount}                              // ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  localCount={localValues.n_times_in_m_days.count}    // ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ –¥–ª—è input
  period={frequencyPeriod}                            // ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  localPeriod={localValues.n_times_in_m_days.period}  // ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ –¥–ª—è input
  onActivate={() => handleTypeChange('n_times_in_m_days')}
  onCountChange={(value) => handleCountChange(value, 'n_times_in_m_days')}
  onPeriodChange={(value) => handlePeriodChange(value, 'n_times_in_m_days')}
  onCountBlur={() => handleCountBlur('n_times_in_m_days')}
  onPeriodBlur={() => handlePeriodBlur('n_times_in_m_days')}
/>
```

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:**
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω—ã `count`/`period` (–æ—Å–Ω–æ–≤–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è) –∏ `localCount`/`localPeriod` (–¥–ª—è input)
- ‚úÖ –¢–µ–ø–µ—Ä—å input –ø–æ–ª—è –ø–æ–ª—É—á–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –ª–æ–∫–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ input —Å—Ä–∞–∑—É –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

---

### 2Ô∏è‚É£ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω FrequencyInput.tsx

**–§–∞–π–ª:** `/components/shared/frequency/FrequencyInput.tsx`

**–°—Ç—Ä–æ–∫–∏:** 64-69

**‚ùå –ë—ã–ª–æ:**
```typescript
onChange={(e) => {
  e.stopPropagation();
  if (isActive) {
    onChange(e.target.value);
  }
}}
```

**‚úÖ –°—Ç–∞–ª–æ:**
```typescript
onChange={(e) => {
  e.stopPropagation();
  // –í—ã–∑—ã–≤–∞–µ–º onChange –≤—Å–µ–≥–¥–∞, –Ω–µ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –∞–∫—Ç–∏–≤–Ω–æ
  // –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –∏ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
  onChange(e.target.value);
}}
```

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:**
- ‚úÖ –£–±—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `if (isActive)`
- ‚úÖ `onChange` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

---

## üîé –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ–ø–µ—Ä—å

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –≤–≤–æ–¥–µ:

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ input –ø–æ–ª–µ
   ‚Üì
2. onClick ‚Üí onActivate()
   ‚Üì
3. FrequencyEditor —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç frequencyType (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)
   ‚Üì
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç "5"
   ‚Üì
5. onChange ‚Üí handleCountChange(value, type)
   ‚Üì  (—Ç–µ–ø–µ—Ä—å –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –í–°–ï–ì–î–ê, –Ω–µ –∂–¥—ë—Ç isActive)
6. useFrequencyState –æ–±–Ω–æ–≤–ª—è–µ—Ç localValues.n_times_week.count = 5
   ‚Üì
7. FrequencyEditor –ø–µ—Ä–µ–¥–∞—ë—Ç localCount={5} –≤ NTimesWeekSection
   ‚Üì
8. SingleInputFrequencySection –ø–µ—Ä–µ–¥–∞—ë—Ç localValue={5} –≤ FrequencyInput
   ‚Üì
9. FrequencyInput –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç value={5}
   ‚Üì
10. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç "5" –≤ –ø–æ–ª–µ!
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

| –î–µ–π—Å—Ç–≤–∏–µ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|----------|-----------|
| –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ input | ‚úÖ –ü–æ–ª–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è |
| –í–≤–µ—Å—Ç–∏ —Ü–∏—Ñ—Ä—É "5" | ‚ùå –¶–∏—Ñ—Ä–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è |
| –ü—Ä–æ–≤–µ—Ä–∏—Ç—å localValues | ‚ùå –ó–Ω–∞—á–µ–Ω–∏–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª–æ—Å—å |
| –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É | ‚ùå –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |

**–ü—Ä–∏—á–∏–Ω–∞:** `onChange` –Ω–µ –≤—ã–∑—ã–≤–∞–ª—Å—è –∏–∑-–∑–∞ `if (isActive)`, `localCount` –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–ª—Å—è

---

### –ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

| –î–µ–π—Å—Ç–≤–∏–µ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|----------|-----------|
| –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ input | ‚úÖ –ü–æ–ª–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è |
| –í–≤–µ—Å—Ç–∏ —Ü–∏—Ñ—Ä—É "5" | ‚úÖ –¶–∏—Ñ—Ä–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è |
| –ü—Ä–æ–≤–µ—Ä–∏—Ç—å localValues | ‚úÖ –ó–Ω–∞—á–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª–æ—Å—å |
| –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É | ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤–≤–µ–¥—ë–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |

**–ü—Ä–∏—á–∏–Ω–∞:** `onChange` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞, `localCount` –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: "N —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é"

1. ‚úÖ –û—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–∞—Å—Ç–æ—Ç—ã
2. ‚úÖ –í—ã–±—Ä–∞—Ç—å "N —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é"
3. ‚úÖ –ö–ª–∏–∫–Ω—É—Ç—å –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞
4. ‚úÖ –í–≤–µ—Å—Ç–∏ "3"
5. ‚úÖ **–û–∂–∏–¥–∞–µ–º–æ:** –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "3"
6. ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: "N —Ä–∞–∑ –≤ –º–µ—Å—è—Ü"

1. ‚úÖ –û—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–∞—Å—Ç–æ—Ç—ã
2. ‚úÖ –í—ã–±—Ä–∞—Ç—å "N —Ä–∞–∑ –≤ –º–µ—Å—è—Ü"
3. ‚úÖ –ö–ª–∏–∫–Ω—É—Ç—å –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞
4. ‚úÖ –í–≤–µ—Å—Ç–∏ "15"
5. ‚úÖ **–û–∂–∏–¥–∞–µ–º–æ:** –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "15"
6. ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: "–ö–∞–∂–¥—ã–µ N –¥–Ω–µ–π"

1. ‚úÖ –û—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–∞—Å—Ç–æ—Ç—ã
2. ‚úÖ –í—ã–±—Ä–∞—Ç—å "–ö–∞–∂–¥—ã–µ N –¥–Ω–µ–π"
3. ‚úÖ –ö–ª–∏–∫–Ω—É—Ç—å –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞
4. ‚úÖ –í–≤–µ—Å—Ç–∏ "7"
5. ‚úÖ **–û–∂–∏–¥–∞–µ–º–æ:** –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "7"
6. ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: "N —Ä–∞–∑ –≤ M –¥–Ω–µ–π" (–¥–≤–∞ –ø–æ–ª—è)

1. ‚úÖ –û—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–∞—Å—Ç–æ—Ç—ã
2. ‚úÖ –í—ã–±—Ä–∞—Ç—å "N —Ä–∞–∑ –≤ M –¥–Ω–µ–π"
3. ‚úÖ –ö–ª–∏–∫–Ω—É—Ç—å –≤ –ø–µ—Ä–≤–æ–µ –ø–æ–ª–µ (count)
4. ‚úÖ –í–≤–µ—Å—Ç–∏ "4"
5. ‚úÖ **–û–∂–∏–¥–∞–µ–º–æ:** –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "4"
6. ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
7. ‚úÖ –ö–ª–∏–∫–Ω—É—Ç—å –≤–æ –≤—Ç–æ—Ä–æ–µ –ø–æ–ª–µ (period)
8. ‚úÖ –í–≤–µ—Å—Ç–∏ "10"
9. ‚úÖ **–û–∂–∏–¥–∞–µ–º–æ:** –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "10"
10. ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

---

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `/components/shared/frequency/FrequencyEditor.tsx`
- **–°—Ç—Ä–æ–∫–∏:** 61-96
- **–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–ø—Å—ã `localCount` –∏ `localPeriod` –¥–ª—è –≤—Å–µ—Ö —Å–µ–∫—Ü–∏–π
- **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:** –†–∞–∑–¥–µ–ª–µ–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ –∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

### 2. `/components/shared/frequency/FrequencyInput.tsx`
- **–°—Ç—Ä–æ–∫–∏:** 64-69
- **–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** –£–±—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `if (isActive)` –≤ `onChange`
- **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:** –¢–µ–ø–µ—Ä—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤—Å–µ–≥–¥–∞

---

## üéØ –ü–æ—á–µ–º—É –±–∞–≥ –≤–æ–∑–Ω–∏–∫?

### –ü—Ä–∏—á–∏–Ω–∞ 1: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –ø—Ä–æ–ø—Å–æ–≤

–ü—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ `FrequencyEditor.tsx` (—Å–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥—É–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã) –±—ã–ª–∞ –ø–æ–ø—ã—Ç–∫–∞ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –ø—Ä–æ–ø—Å—ã, –æ–±—ä–µ–¥–∏–Ω–∏–≤ `count` –∏ `localCount` –≤ –æ–¥–∏–Ω –ø—Ä–æ–ø. –≠—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫ –ø–æ—Ç–µ—Ä–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

### –ü—Ä–∏—á–∏–Ω–∞ 2: –ó–∞—â–∏—Ç–∞ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏

–í `FrequencyInput.tsx` –±—ã–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `if (isActive)` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—è—Ö. –ù–æ —ç—Ç–æ –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –∞–∫—Ç–∏–≤–∞—Ü–∏–∏.

### –ü—Ä–∏—á–∏–Ω–∞ 3: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ—Å—Ç–æ–≤

–ï—Å–ª–∏ –±—ã –±—ã–ª–∏ E2E —Ç–µ—Å—Ç—ã –¥–ª—è –≤–≤–æ–¥–∞ –≤ –ø–æ–ª—è —á–∞—Å—Ç–æ—Ç—ã, –±–∞–≥ –±—ã–ª –±—ã –æ–±–Ω–∞—Ä—É–∂–µ–Ω —Å—Ä–∞–∑—É:

```typescript
it('should display typed value in frequency input', () => {
  cy.contains('–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É').click();
  cy.contains('N —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é').click();
  cy.get('input[type="number"]').type('5');
  cy.get('input[type="number"]').should('have.value', '5'); // ‚ùå –≠—Ç–æ—Ç —Ç–µ—Å—Ç —É–ø–∞–ª –±—ã
});
```

---

## üé® –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### –ü—Ä–∏–Ω—Ü–∏–ø 1: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∏ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
<NTimesWeekSection
  count={frequencyCount}              // –û—Å–Ω–æ–≤–Ω–æ–µ (–∏–∑ –ø—Ä–æ–ø—Å–æ–≤ –∏–ª–∏ store)
  localCount={localValues.count}     // –õ–æ–∫–∞–ª—å–Ω–æ–µ (–∏–∑ useFrequencyState)
  onCountChange={handleCountChange}
/>

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
<NTimesWeekSection
  count={localValues.count ?? frequencyCount}  // –°–º–µ—à–∞–Ω–æ!
  onCountChange={handleCountChange}
/>
```

### –ü—Ä–∏–Ω—Ü–∏–ø 2: –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤—Å–µ–≥–¥–∞ —Ä–µ–∞–≥–∏—Ä—É—é—Ç –Ω–∞ onChange

```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
<input
  value={value}
  onChange={(e) => onChange(e.target.value)}  // –í—Å–µ–≥–¥–∞
/>

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
<input
  value={value}
  onChange={(e) => {
    if (someCondition) {  // –£—Å–ª–æ–≤–∏–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è!
      onChange(e.target.value);
    }
  }}
/>
```

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –±—É–¥—É—â–µ–µ

### 1. E2E —Ç–µ—Å—Ç—ã –¥–ª—è input –ø–æ–ª–µ–π

```typescript
describe('Frequency Input', () => {
  it('should display typed value immediately', () => {
    openFrequencyModal();
    selectFrequencyType('n_times_week');
    typeInInput('5');
    expectInputValue('5');
  });
});
```

---

### 2. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

–°–æ–∑–¥–∞—Ç—å `/docs/FREQUENCY_ARCHITECTURE.md` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º:
- –ü–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–ø–∞
- –†–∞–∑–Ω–∏—Ü—ã –º–µ–∂–¥—É `count` –∏ `localCount`

---

### 3. TypeScript —Å—Ç—Ä–æ–≥–æ—Å—Ç—å

```typescript
interface SectionProps {
  count: number;          // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ: –æ—Å–Ω–æ–≤–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  localCount?: number;    // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –¥–ª—è input
}

// TypeScript –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç, –µ—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω count
<Section count={frequencyCount} />  // ‚úÖ
<Section />  // ‚ùå TypeScript –æ—à–∏–±–∫–∞
```

---

## üìù –í—ã–≤–æ–¥—ã

### ‚úÖ –ë–∞–≥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω

–î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–ø—Å—ã `localCount`/`localPeriod` –∏ —É–±—Ä–∞–Ω–∞ –±–ª–æ–∫–∏—Ä—É—é—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
1. FrequencyEditor —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–¥–∞—ë—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
2. FrequencyInput –≤—ã–∑—ã–≤–∞–µ—Ç onChange –≤—Å–µ–≥–¥–∞

### ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- –ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∏ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### ‚úÖ –ü–æ–≤—ã—à–µ–Ω–∞ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å

- Input –ø–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç –≤–≤–µ–¥—ë–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –ù–µ—Ç –∑–∞–¥–µ—Ä–∂–µ–∫ –ø—Ä–∏ –≤–≤–æ–¥–µ
- –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 20 –Ω–æ—è–±—Ä—è 2025  
**–í—Ä–µ–º—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** ~10 –º–∏–Ω—É—Ç  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ  
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:** 2  
**–°—Ç—Ä–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–æ:** ~35
