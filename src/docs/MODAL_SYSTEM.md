# üé® Universal Modal System

–ö–æ–º–ø–æ–∑–∏—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –≤ —Å—Ç–∏–ª–µ Radix UI / shadcn.

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 19 –Ω–æ—è–±—Ä—è 2025  
**–¶–µ–ª—å:** –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –≤ 8 –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## üì¶ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. `Modal.Root`
**–ö–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** - —Å–æ–∑–¥–∞—ë—Ç Portal –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º

**Props:**
- `level?: 'modal' | 'dialog' | 'nested'` - —É—Ä–æ–≤–µ–Ω—å z-index (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `'modal'`)
  - `'modal'` ‚Üí z-50 (–±–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –º–æ–¥–∞–ª–æ–∫)
  - `'dialog'` ‚Üí z-[60] (–¥–∏–∞–ª–æ–≥–∏ –ø–æ–≤–µ—Ä—Ö –º–æ–¥–∞–ª–æ–∫)
  - `'nested'` ‚Üí z-[70] (–≤–ª–æ–∂–µ–Ω–Ω—ã–µ –º–æ–¥–∞–ª–∫–∏)
- `onClose?: () => void` - –∫–æ–ª–±—ç–∫ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ ESC
- `className?: string` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ CSS –∫–ª–∞—Å—Å—ã

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- ‚úÖ –°–æ–∑–¥–∞—ë—Ç ReactDOM.createPortal –≤ document.body
- ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π z-index
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞–∂–∞—Ç–∏–µ ESC –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è
- ‚úÖ –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ (fixed inset-0 + flex center)

---

### `Modal.Backdrop`
–ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞.

**Props:**
- `onClick` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ (–æ–±—ã—á–Ω–æ –∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏)

**–°—Ç–∏–ª–∏:**
- `bg-white/40` —Å `backdrop-blur-[2px]`
- –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ç–∏–ª—å Jony Ive

---

### `Modal.Content`
–ö–æ–Ω—Ç–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ (–±–µ–ª–æ–µ –æ–∫–Ω–æ).

**Props:**
- `children` - —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
- `size` - —Ä–∞–∑–º–µ—Ä ('sm' | 'md' | 'lg' | 'xl' | '2xl' | '4xl' | '6xl'), –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 'md'
- `className` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ CSS –∫–ª–∞—Å—Å—ã
- `onClick` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–°—Ç–∏–ª–∏:**
- –ë–µ–ª—ã–π —Ñ–æ–Ω —Å `rounded-[20px]`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–ø–ª—ã—Ç–∏–µ –∫–ª–∏–∫–∞
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Ä–∞–∑–º–µ—Ä—ã —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã

---

### `Modal.Header`
–ó–∞–≥–æ–ª–æ–≤–æ–∫ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞.

**Props:**
- `title` - —Ç–µ–∫—Å—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞
- `onClose` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è
- `showCloseButton` - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ –∫–Ω–æ–ø–∫—É –∑–∞–∫—Ä—ã—Ç–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true)

**–°—Ç–∏–ª–∏:**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å—Ç–∏–ª—å —Å `border-b`
- –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è (‚úï) —Å–ø—Ä–∞–≤–∞

---

### `Modal.Footer`
–§—É—Ç–µ—Ä –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞.

**Props:**
- `children` - —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ (–æ–±—ã—á–Ω–æ –∫–Ω–æ–ø–∫–∏)
- `className` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ CSS –∫–ª–∞—Å—Å—ã

**–°—Ç–∏–ª–∏:**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å—Ç–∏–ª—å —Å `border-t`

---

### `Modal.CloseButton`
–ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ (‚úï).

**Props:**
- `onClick` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞
- `className` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ CSS –∫–ª–∞—Å—Å—ã

**–°—Ç–∏–ª–∏:**
- –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ç–∏–ª—å —Å hover —ç—Ñ—Ñ–µ–∫—Ç–æ–º
- –ò–∫–æ–Ω–∫–∞ X –∏–∑ lucide-react

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

```tsx
import { Modal } from '../modal';
import { Button } from '../common';

function MyModal({ isOpen, onClose }) {
  if (!isOpen) return null;

  return (
    <Modal.Root level="dialog" onClose={onClose}>
      <Modal.Backdrop onClick={onClose} />
      <Modal.Content size="md">
        <Modal.Header title="–ó–∞–≥–æ–ª–æ–≤–æ–∫" onClose={onClose} />
        
        <div className="p-6">
          {/* –í–∞—à –∫–æ–Ω—Ç–µ–Ω—Ç */}
        </div>
        
        <Modal.Footer>
          <Button variant="primary" onClick={onClose}>
            –ó–∞–∫—Ä—ã—Ç—å
          </Button>
        </Modal.Footer>
      </Modal.Content>
    </Modal.Root>
  );
}
```

---

### –ü—Ä–∏–º–µ—Ä —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º header

```tsx
<Modal.Root level="modal" onClose={onClose}>
  <Modal.Backdrop onClick={onClose} />
  <Modal.Content size="lg" className="p-8">
    {/* –ö–∞—Å—Ç–æ–º–Ω—ã–π header –±–µ–∑ Modal.Header */}
    <div className="flex items-start justify-between mb-6">
      <div className="flex-1">
        <h2 className="text-lg mb-1">{habitName}</h2>
        <p className="text-sm text-gray-500">{date}</p>
      </div>
      <Modal.CloseButton onClick={onClose} />
    </div>

    {/* –ö–æ–Ω—Ç–µ–Ω—Ç */}
    <div className="mb-6">
      {/* ... */}
    </div>

    {/* –ö–Ω–æ–ø–∫–∏ –±–µ–∑ Modal.Footer */}
    <div className="flex gap-3">
      <Button>–û—Ç–º–µ–Ω–∞</Button>
      <Button variant="primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</Button>
    </div>
  </Modal.Content>
</Modal.Root>
```

---

### –í–ª–æ–∂–µ–Ω–Ω—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞

```tsx
{/* –û—Å–Ω–æ–≤–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */}
<Modal.Root level="dialog" onClose={onCloseMain}>
  <Modal.Backdrop onClick={onCloseMain} />
  <Modal.Content size="2xl">
    {/* ... */}
  </Modal.Content>
</Modal.Root>

{/* –í–ª–æ–∂–µ–Ω–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ (–ø–æ–≤–µ—Ä—Ö –æ—Å–Ω–æ–≤–Ω–æ–≥–æ) */}
{isNestedOpen && (
  <Modal.Root level="nested" onClose={onCloseNested}>
    <Modal.Backdrop onClick={onCloseNested} />
    <Modal.Content size="md">
      {/* ... */}
    </Modal.Content>
  </Modal.Root>
)}
```

---

## üìä –†–∞–∑–º–µ—Ä—ã –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω

| –†–∞–∑–º–µ—Ä | max-width | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|--------|-----------|---------------|
| `sm`   | 384px     | –ü—Ä–æ—Å—Ç—ã–µ –¥–∏–∞–ª–æ–≥–∏, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è |
| `md`   | 448px     | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ñ–æ—Ä–º—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) |
| `lg`   | 512px     | –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã |
| `xl`   | 576px     | –ë–æ–ª—å—à–∏–µ —Ñ–æ—Ä–º—ã |
| `2xl`  | 672px     | - |
| `4xl`  | 896px     | - |
| `6xl`  | 1152px    | –î–ª—è –æ—Å–æ–±–æ –±–æ–ª—å—à–∏—Ö –º–æ–¥–∞–ª–æ–∫ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ) |

---

## üéØ Z-Index —É—Ä–æ–≤–Ω–∏

| –£—Ä–æ–≤–µ–Ω—å  | z-index | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|----------|---------|---------------|
| `modal`  | z-50    | –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ |
| `dialog` | z-[60]  | –î–∏–∞–ª–æ–≥–∏ –ø–æ–≤–µ—Ä—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–¥–∞–ª–æ–∫ |
| `nested` | z-[70]  | –í–ª–æ–∂–µ–Ω–Ω—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ (FrequencyModal) |

---

## ‚úÖ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. ‚úÖ **ConfirmDialog** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Modal –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
2. ‚úÖ **NumericInputModal** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Modal –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã  
3. ‚úÖ **MonthYearPicker** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Modal –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
4. ‚úÖ **FrequencyModal** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Modal –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–≤–ª–æ–∂–µ–Ω–Ω–æ–µ)
5. ‚úÖ **HabitFrequencySection** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Modal –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–≤–ª–æ–∂–µ–Ω–Ω–æ–µ)
6. ‚úÖ **AddHabitModal** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Modal –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
7. ‚úÖ **ManageHabitsModal** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Modal –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
8. ‚úÖ **HabitStatisticsModal** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Modal –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ~350-500 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã ‚ú®

---

## üé® –°–≤—è–∑—å —Å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ —Å—Ç–∏–ª—è–º–∏

Modal –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑ `/constants/styles.ts`:

```typescript
import { 
  MODAL_STYLES,       // backdrop, center, header, footer
  getModalContentClasses, // —Ä–∞–∑–º–µ—Ä—ã –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
  Z_INDEX              // —É—Ä–æ–≤–Ω–∏ z-index
} from '../../constants/styles';
```

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ** `Modal.Root` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ESC –∫–ª–∞–≤–∏—à–µ–π
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ** –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `level` –¥–ª—è z-index:
   - `modal` - –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
   - `dialog` - –¥–∏–∞–ª–æ–≥–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
   - `nested` - –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
3. **–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ –≤—Å–ø–ª—ã—Ç–∏–µ** - `Modal.Content` –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ** `Modal.Header` –∏ `Modal.Footer` –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è
5. **–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏** –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π header/footer
6. **–î–æ–±–∞–≤–ª—è–π—Ç–µ** `if (!isOpen) return null` –≤ –Ω–∞—á–∞–ª–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

---

**–°–æ–∑–¥–∞–Ω–æ:** 19 –Ω–æ—è–±—Ä—è 2025  
**–ê–≤—Ç–æ—Ä:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
