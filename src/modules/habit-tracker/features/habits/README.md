# üìã Habits Module

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ú–æ–¥—É–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–≤—ã—á–∫–∞–º–∏ (CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω –Ω–∞ 100%

**–°–æ–∑–¥–∞–Ω:** 22 –Ω–æ—è–±—Ä—è 2025

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
habits/
‚îú‚îÄ‚îÄ components/          # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–∏–≤—ã—á–µ–∫
‚îÇ   ‚îú‚îÄ‚îÄ HabitRow.tsx               # ‚úÖ –°—Ç—Ä–æ–∫–∞ –ø—Ä–∏–≤—ã—á–∫–∏ –≤ —Å–ø–∏—Å–∫–µ
‚îÇ   ‚îú‚îÄ‚îÄ HabitStatisticsModal.tsx   # ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ HabitCheckboxCell.tsx      # ‚úÖ –Ø—á–µ–π–∫–∞ —á–µ–∫–±–æ–∫—Å–∞/–∑–Ω–∞—á–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ HabitsListPanel.tsx        # ‚úÖ –ü–∞–Ω–µ–ª—å —Å–ø–∏—Å–∫–∞ –ø—Ä–∏–≤—ã—á–µ–∫
‚îÇ   ‚îú‚îÄ‚îÄ HabitsTable.tsx            # ‚úÖ –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç–∞–±–ª–∏—Ü—ã
‚îÇ   ‚îú‚îÄ‚îÄ AddHabitModal.tsx          # ‚úÖ –ú–æ–¥–∞–ª–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ ManageHabitsModal.tsx      # ‚úÖ –ú–æ–¥–∞–ª–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ add/                       # ‚úÖ –ü–æ–¥–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã AddHabitModal (8 —Ñ–∞–π–ª–æ–≤)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FrequencyModal.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FrequencyModalTrigger.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HabitBasicInfoStep.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HabitMeasurableStep.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HabitDetailsStep.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HabitTypePicker.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NotesSection.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RemindersSection.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îú‚îÄ‚îÄ manage/                    # ‚úÖ –ü–æ–¥–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ManageHabitsModal (11 —Ñ–∞–π–ª–æ–≤)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ManageHabitsHeader.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HabitsList.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HabitItem.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ManageHabitsFooter.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HabitNameEditor.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HabitMeasurableSettingsSection.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HabitFrequencySection.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HabitRemindersSection.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ IconPicker.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UnitPicker.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TargetTypePicker.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îî‚îÄ‚îÄ index.ts                   # ‚úÖ Barrel export
‚îú‚îÄ‚îÄ hooks/               # –•—É–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–∏–≤—ã—á–∫–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ useHabitOperations.ts      # ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ useHabitState.ts           # ‚úÖ –î–æ—Å—Ç—É–ø –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é
‚îÇ   ‚îî‚îÄ‚îÄ index.ts                   # ‚úÖ Barrel export
‚îú‚îÄ‚îÄ types/               # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îî‚îÄ‚îÄ index.ts                   # ‚úÖ –†–µ—ç–∫—Å–ø–æ—Ä—Ç —Ç–∏–ø–æ–≤ + UI —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ utils/               # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ index.ts                   # ‚úÖ –†–µ—ç–∫—Å–ø–æ—Ä—Ç habitUtils
‚îú‚îÄ‚îÄ index.ts             # ‚úÖ Public API –º–æ–¥—É–ª—è
‚îî‚îÄ‚îÄ README.md            # ‚úÖ –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

**–í—Å–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:** 27 —Ñ–∞–π–ª–æ–≤ (7 –æ—Å–Ω–æ–≤–Ω—ã—Ö + 8 –≤ /add/ + 11 –≤ /manage/ + 1 index)

---

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### `HabitRow`
–°—Ç—Ä–æ–∫–∞ –ø—Ä–∏–≤—ã—á–∫–∏ –≤ —Å–ø–∏—Å–∫–µ —Å –∏–∫–æ–Ω–∫–æ–π –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ–º.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ drag-n-drop –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
- –ö–ª–∏–∫ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –†–µ–∂–∏–º —Å —á–µ–∫–±–æ–∫—Å–æ–º (–¥–ª—è ManageHabitsModal)

#### `HabitStatisticsModal`
–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–∏–≤—ã—á–∫–∏:
- –ì—Ä–∞—Ñ–∏–∫ –∏—Å—Ç–æ—Ä–∏–∏ —Å–∏–ª—ã –ø—Ä–∏–≤—ã—á–∫–∏ (EMA)
- –¢–µ–∫—É—â–∏–π –∏ –ª—É—á—à–∏–π —Å—Ç—Ä–∏–∫
- –ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞ –º–µ—Å—è—Ü
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π
- –í–æ–∑—Ä–∞—Å—Ç –ø—Ä–∏–≤—ã—á–∫–∏

#### `HabitCheckboxCell`
–Ø—á–µ–π–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–≤—ã—á–∫–∏ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–π —Å–µ—Ç–∫–µ:
- –î–ª—è –±–∏–Ω–∞—Ä–Ω—ã—Ö: –≥–∞–ª–æ—á–∫–∞/–ø—Ä–æ–ø—É—Å–∫/–ø—É—Å—Ç–æ
- –î–ª—è –∏–∑–º–µ—Ä–∏–º—ã—Ö: —á–∏—Å–ª–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ + –µ–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è
- –ü–ö–ú –¥–ª—è –∑–∞–º–æ—Ä–æ–∑–∫–∏ —Å–∏–ª—ã –ø—Ä–∏–≤—ã—á–∫–∏

#### `HabitsListPanel`
–ü–∞–Ω–µ–ª—å —Å–ø–∏—Å–∫–∞ –ø—Ä–∏–≤—ã—á–µ–∫ —Å –∫–Ω–æ–ø–∫–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- –°–ø–∏—Å–æ–∫ –ø—Ä–∏–≤—ã—á–µ–∫ —Å HabitRow
- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–≤—ã—á–∫–∏
- –ö–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫

### –•—É–∫–∏

#### `useHabitOperations()`
CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –ø—Ä–∏–≤—ã—á–∫–∞–º–∏:
```typescript
const {
  addHabit,           // –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É
  deleteHabit,        // –£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É
  updateHabit,        // –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É
  toggleCompletion,   // –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
  moveHabit,          // –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å (drag-n-drop)
  clearAllCompletions,       // –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –∑–∞ –º–µ—Å—è—Ü
  undoClearAllCompletions,   // –û—Ç–º–µ–Ω–∏—Ç—å –æ—á–∏—Å—Ç–∫—É (Undo)
} = useHabitOperations();
```

#### `useHabitState()`
–î–æ—Å—Ç—É–ø –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é –ø—Ä–∏–≤—ã—á–µ–∫:
```typescript
const {
  habits,                    // –ú–∞—Å—Å–∏–≤ –ø—Ä–∏–≤—ã—á–µ–∫
  newlyAddedHabitId,         // ID –ø–æ—Å–ª–µ–¥–Ω–µ–π –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–π
  clearNewlyAddedHabitId,    // –û—á–∏—Å—Ç–∏—Ç—å ID
  previousHabitsState,       // –î–ª—è Undo
  actionsAfterClear,         // –°—á—ë—Ç—á–∏–∫ –¥–µ–π—Å—Ç–≤–∏–π
} = useHabitState();
```

### –£—Ç–∏–ª–∏—Ç—ã

- `isHabitCompletedForDate()` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞ –¥–µ–Ω—å
- `getCompletionValueForDate()` - –ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–¥–ª—è EMA)
- `getMonthlyGoalFromFrequency()` - –†–∞—Å—á—ë—Ç –º–µ—Å—è—á–Ω–æ–π —Ü–µ–ª–∏ –∏–∑ —á–∞—Å—Ç–æ—Ç—ã
- `isRequiredByFrequency()` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ —á–∞—Å—Ç–æ—Ç–µ
- `formatFrequency()` - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –≤ —á–∏—Ç–∞–µ–º—É—é —Å—Ç—Ä–æ–∫—É

---

## üì¶ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ò–º–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```typescript
import {
  HabitRow,
  HabitStatisticsModal,
  HabitCheckboxCell,
  HabitsListPanel,
} from '@/modules/habit-tracker/features/habits';
```

### –ò–º–ø–æ—Ä—Ç —Ö—É–∫–æ–≤

```typescript
import {
  useHabitOperations,
  useHabitState,
} from '@/modules/habit-tracker/features/habits';

function MyComponent() {
  const { addHabit, deleteHabit } = useHabitOperations();
  const { habits } = useHabitState();
  
  // ...
}
```

### –ò–º–ø–æ—Ä—Ç —Ç–∏–ø–æ–≤

```typescript
import type {
  Habit,
  HabitData,
  HabitType,
  FrequencyConfig,
} from '@/modules/habit-tracker/features/habits';
```

### –ò–º–ø–æ—Ä—Ç —É—Ç–∏–ª–∏—Ç

```typescript
import {
  isHabitCompletedForDate,
  formatFrequency,
} from '@/modules/habit-tracker/features/habits';
```

---

## üîÑ –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏

- [x] ‚úÖ –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫
- [x] ‚úÖ –°–æ–∑–¥–∞—Ç—å —Ö—É–∫–∏ (useHabitOperations, useHabitState)
- [x] ‚úÖ –°–æ–∑–¥–∞—Ç—å types/index.ts (—Ä–µ—ç–∫—Å–ø–æ—Ä—Ç + UI —Ç–∏–ø—ã)
- [x] ‚úÖ –°–æ–∑–¥–∞—Ç—å utils/index.ts (—Ä–µ—ç–∫—Å–ø–æ—Ä—Ç habitUtils)
- [x] ‚úÖ –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ HabitRow
- [x] ‚úÖ –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ HabitStatisticsModal
- [x] ‚úÖ –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ HabitCheckboxCell
- [x] ‚úÖ –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ HabitsListPanel
- [x] ‚úÖ –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ HabitsTable (–≥–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
- [x] ‚úÖ –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ AddHabitModal + –ø–æ–¥–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã /add/
- [x] ‚úÖ –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ ManageHabitsModal + –ø–æ–¥–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã /manage/
- [x] ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ –∑–∞–≤–∏—Å–∏–º—ã—Ö —Ñ–∞–π–ª–∞—Ö
- [x] ‚úÖ –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã –∏–∑ /components/habits/

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –Ω–æ–≤—ã–µ —Ö—É–∫–∏ –≤–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤ store
- –¢–∏–ø—ã —Ä–µ—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –∏–∑ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –ø–∞–ø–∫–∏ `/types/`
- –£—Ç–∏–ª–∏—Ç—ã —Ä–µ—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –∏–∑ `/utils/habitUtils.ts`
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —ÅÔøΩÔøΩ–≤–º–µ—Å—Ç–∏–º—ã —Å–æ —Å—Ç–∞—Ä—ã–º API (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
- –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ - –æ–±–Ω–æ–≤–∏–º –∏–º–ø–æ—Ä—Ç—ã –≤ App.tsx –∏ –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–∞—Ö

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 22 –Ω–æ—è–±—Ä—è 2025