# üõ†Ô∏è –ó–∞–¥–∞—á–∏ –¥–ª—è –º–æ–¥—É–ª—è Habit Tracker

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 22 –Ω–æ—è–±—Ä—è 2025  

---

> **–¶–µ–ª—å:** –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ç–∏–ø–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –º–æ–¥—É–ª–µ–º habit-tracker.

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –ø–æ–ª–µ –≤ –ø—Ä–∏–≤—ã—á–∫—É](#1-–¥–æ–±–∞–≤–∏—Ç—å-–Ω–æ–≤–æ–µ-–ø–æ–ª–µ-–≤-–ø—Ä–∏–≤—ã—á–∫—É)
2. [–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –µ–¥–∏–Ω–∏—Ü—É –∏–∑–º–µ—Ä–µ–Ω–∏—è](#2-–¥–æ–±–∞–≤–∏—Ç—å-–Ω–æ–≤—É—é-–µ–¥–∏–Ω–∏—Ü—É-–∏–∑–º–µ—Ä–µ–Ω–∏—è)
3. [–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø —á–∞—Å—Ç–æ—Ç—ã](#3-–¥–æ–±–∞–≤–∏—Ç—å-–Ω–æ–≤—ã–π-—Ç–∏–ø-—á–∞—Å—Ç–æ—Ç—ã)
4. [–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é](#4-–¥–æ–±–∞–≤–∏—Ç—å-–Ω–æ–≤—É—é-–∫–∞—Ç–µ–≥–æ—Ä–∏—é)
5. [–ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º—É–ª—É EMA (—Å–∏–ª—ã –ø—Ä–∏–≤—ã—á–∫–∏)](#5-–∏–∑–º–µ–Ω–∏—Ç—å-—Ñ–æ—Ä–º—É–ª—É-ema-—Å–∏–ª—ã-–ø—Ä–∏–≤—ã—á–∫–∏)

---

## 1. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –ø–æ–ª–µ –≤ –ø—Ä–∏–≤—ã—á–∫—É

**–ü—Ä–∏–º–µ—Ä:** –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `tags: string[]` –¥–ª—è –º–µ—Ç–æ–∫ –ø—Ä–∏–≤—ã—á–∫–∏

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Habit

üìÅ **–§–∞–π–ª:** `/modules/habit-tracker/types/index.ts`

```typescript
export interface Habit {
  id: string;
  name: string;
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
  
  /** –ú–µ—Ç–∫–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ */
  tags?: string[];  // ‚Üê –î–û–ë–ê–í–ò–¢–¨
}
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å HabitData (–¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è)

üìÅ **–§–∞–π–ª:** `/modules/habit-tracker/types/index.ts`

```typescript
export interface HabitData {
  name: string;
  description: string;
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
  
  tags?: string[];  // ‚Üê –î–û–ë–ê–í–ò–¢–¨
}
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å –≤ —Ñ–æ—Ä–º—É —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏–≤—ã—á–∫–∏

üìÅ **–§–∞–π–ª:** `/modules/habit-tracker/features/habits/components/add/AddHabitForm.tsx`

**A) –î–æ–±–∞–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
```typescript
const [tags, setTags] = useState<string[]>([]);
```

**B) –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –≤ JSX:**
```tsx
{/* –ú–µ—Ç–∫–∏ */}
<div>
  <label className="text-sm text-[var(--text-secondary)] mb-2">
    –ú–µ—Ç–∫–∏
  </label>
  <input
    type="text"
    value={tags.join(', ')}
    onChange={(e) => setTags(e.target.value.split(',').map(t => t.trim()))}
    placeholder="–ó–¥–æ—Ä–æ–≤—å–µ, —Å–ø–æ—Ä—Ç, —É—Ç—Ä–æ"
    className={INPUT_CLASSES.default}
  />
</div>
```

**C) –î–æ–±–∞–≤–∏—Ç—å –≤ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏:**
```typescript
const habitData: HabitData = {
  name,
  description,
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
  tags,  // ‚Üê –î–û–ë–ê–í–ò–¢–¨
};
```

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç—å action addHabit –≤ store

üìÅ **–§–∞–π–ª:** `/core/store/slices/habits.ts`

```typescript
addHabit: (habitData) => {
  const newHabit: Habit = {
    id: Date.now().toString(),
    name: habitData.name,
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
    tags: habitData.tags || [],  // ‚Üê –î–û–ë–ê–í–ò–¢–¨
  };
  
  // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
}
```

### –®–∞–≥ 5: –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –ø—Ä–∏–≤—ã—á–∫–∏

üìÅ **–§–∞–π–ª:** `/modules/habit-tracker/features/habits/components/HabitRow.tsx`

```tsx
{/* –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—Ç–æ–∫ */}
{habit.tags && habit.tags.length > 0 && (
  <div className="flex gap-1 mt-1">
    {habit.tags.map(tag => (
      <span
        key={tag}
        className="px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs"
      >
        {tag}
      </span>
    ))}
  </div>
)}
```

### –®–∞–≥ 6: –î–æ–±–∞–≤–∏—Ç—å –≤ –º–æ–¥–∞–ª–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

üìÅ **–§–∞–π–ª:** `/modules/habit-tracker/features/habits/components/manage/ManageHabitsModal.tsx`

–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —à–∞–≥–∏ 3B –∏ 3C, –Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `habit.tags` –∫–∞–∫ –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

### ‚úÖ –ì–æ—Ç–æ–≤–æ!

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
1. –°–æ–∑–¥–∞–π –Ω–æ–≤—É—é –ø—Ä–∏–≤—ã—á–∫—É —Å –º–µ—Ç–∫–∞–º–∏
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –º–µ—Ç–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ localStorage
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –º–µ—Ç–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∫–∞—Ä—Ç–æ—á–∫–µ
4. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –º–µ—Ç–∫–∏ –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

---

## 2. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –µ–¥–∏–Ω–∏—Ü—É –∏–∑–º–µ—Ä–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä:** –î–æ–±–∞–≤–∏—Ç—å –µ–¥–∏–Ω–∏—Ü—É "–ø–æ–¥—ä—ë–º—ã" –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫

### –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫ –µ–¥–∏–Ω–∏—Ü

üìÅ **–§–∞–π–ª:** `/modules/habit-tracker/shared/constants/units.ts`

```typescript
export const UNIT_OPTIONS = [
  // Counting units
  '—Ä–∞–∑—ã',
  '—à—Ç—É–∫–∏',
  '–±–∞–ª–ª—ã',
  '–ø–æ–¥—ä—ë–º—ã',  // ‚Üê –î–û–ë–ê–í–ò–¢–¨ —Å—é–¥–∞ (–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é)
  
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã
] as const;
```

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å —Å–∫–ª–æ–Ω–µ–Ω–∏–µ

üìÅ **–§–∞–π–ª:** `/shared/utils/text/textUtils.ts` ‚Üí —Ñ—É–Ω–∫—Ü–∏—è `declineUnit()`

```typescript
const declensions: Record<string, [string, string, string]> = {
  '—Ä–∞–∑—ã': ['—Ä–∞–∑', '—Ä–∞–∑–∞', '—Ä–∞–∑'],
  '–ø–æ–¥—ä—ë–º—ã': ['–ø–æ–¥—ä—ë–º', '–ø–æ–¥—ä—ë–º–∞', '–ø–æ–¥—ä—ë–º–æ–≤'],  // ‚Üê –î–û–ë–ê–í–ò–¢–¨
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ
};
```

**–§–æ—Ä–º–∞—Ç:** `[—Ñ–æ—Ä–º–∞1, —Ñ–æ—Ä–º–∞2, —Ñ–æ—Ä–º–∞5]`
- –§–æ—Ä–º–∞ 1: 1, 21, 31... (–æ–¥–∏–Ω –ø–æ–¥—ä—ë–º)
- –§–æ—Ä–º–∞ 2: 2-4, 22-24... (–¥–≤–∞ –ø–æ–¥—ä—ë–º–∞)
- –§–æ—Ä–º–∞ 5: 5-20, 25-30... (–ø—è—Ç—å –ø–æ–¥—ä—ë–º–æ–≤)

### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è

üìÅ **–§–∞–π–ª:** `/shared/utils/text/textUtils.ts` ‚Üí —Ñ—É–Ω–∫—Ü–∏—è `getShortUnit()`

```typescript
const shortUnits: Record<string, string> = {
  '—Ä–∞–∑—ã': '—Ä–∞–∑',
  '–ø–æ–¥—ä—ë–º—ã': '–ø–æ–¥—ä',  // ‚Üê –î–û–ë–ê–í–ò–¢–¨ (–¥–æ 4 —Å–∏–º–≤–æ–ª–æ–≤)
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ
};
```

### ‚úÖ –ì–æ—Ç–æ–≤–æ!

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
1. –°–æ–∑–¥–∞–π –∏–∑–º–µ—Ä–∏–º—É—é –ø—Ä–∏–≤—ã—á–∫—É —Å –Ω–æ–≤–æ–π –µ–¥–∏–Ω–∏—Ü–µ–π
2. –ü—Ä–æ–≤–µ—Ä—å —Å–∫–ª–æ–Ω–µ–Ω–∏–µ: "1 –ø–æ–¥—ä—ë–º", "2 –ø–æ–¥—ä—ë–º–∞", "5 –ø–æ–¥—ä—ë–º–æ–≤"
3. –ü—Ä–æ–≤–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ: "5 –ø–æ–¥—ä"
4. –ü—Ä–æ–≤–µ—Ä—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —á–∏—Å–µ–ª: "10000 –ø–æ–¥—ä" ‚Üí "10k –ø–æ–¥—ä"

---

## 3. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø —á–∞—Å—Ç–æ—Ç—ã

**–ü—Ä–∏–º–µ—Ä:** –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø "–∫–∞–∂–¥—É—é N –Ω–µ–¥–µ–ª—é" (`every_n_weeks`)

### ‚ö†Ô∏è –°–ª–æ–∂–Ω–æ—Å—Ç—å: –í–´–°–û–ö–ê–Ø

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:** 8+ —Ñ–∞–π–ª–æ–≤  
**–í—Ä–µ–º—è:** 30-60 –º–∏–Ω—É—Ç

### –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

üìÅ **–§–∞–π–ª:** `/modules/habit-tracker/types/index.ts`

```typescript
export type FrequencyType =
  | 'daily'
  | 'every_n_days'
  | 'every_n_weeks'      // ‚Üê –î–û–ë–ê–í–ò–¢–¨
  | 'n_times_week'
  | 'n_times_month'
  | 'n_times_in_m_days'
  | 'by_days_of_week';
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å FrequencyConfig

üìÅ **–§–∞–π–ª:** `/modules/habit-tracker/types/index.ts`

```typescript
export interface FrequencyConfig {
  type: FrequencyType;
  count?: number;
  period?: number;       // ‚Üê –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è weeks —Ç–æ–∂–µ
  daysOfWeek?: number[];
}
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

üìÅ **–§–∞–π–ª:** `/modules/habit-tracker/features/frequency/types/index.ts`

```typescript
export const DEFAULT_FREQUENCY_VALUES: FrequencyDefaultValues = {
  every_n_days: { period: 5 },
  every_n_weeks: { period: 2 },  // ‚Üê –î–û–ë–ê–í–ò–¢–¨ (–∫–∞–∂–¥—ã–µ 2 –Ω–µ–¥–µ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ
} as const;
```

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å LocalFrequencyValues

üìÅ **–§–∞–π–ª:** `/modules/habit-tracker/features/frequency/types/index.ts`

```typescript
export interface LocalFrequencyValues {
  every_n_days: { period: number | undefined };
  every_n_weeks: { period: number | undefined };  // ‚Üê –î–û–ë–ê–í–ò–¢–¨
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ
}
```

### –®–∞–≥ 5: –î–æ–±–∞–≤–∏—Ç—å –≤ FrequencyEditor

üìÅ **–§–∞–π–ª:** `/modules/habit-tracker/features/frequency/components/FrequencyEditor.tsx`

**A) –î–æ–±–∞–≤–∏—Ç—å –æ–ø—Ü–∏—é –≤ select:**
```tsx
<option value="every_n_weeks">–ö–∞–∂–¥—É—é N –Ω–µ–¥–µ–ª—é</option>
```

**B) –î–æ–±–∞–≤–∏—Ç—å conditional rendering –¥–ª—è –≤–≤–æ–¥–∞:**
```tsx
{frequencyType === 'every_n_weeks' && (
  <div className="mt-3">
    <label className="text-sm text-[var(--text-secondary)] mb-2">
      –ö–∞–∂–¥—É—é
    </label>
    <div className="flex items-center gap-2">
      <input
        type="number"
        min="1"
        max="52"
        value={frequencyPeriod || ''}
        onChange={(e) => onFrequencyPeriodChange(Number(e.target.value))}
        className={INPUT_CLASSES.default}
      />
      <span className="text-sm text-[var(--text-secondary)]">–Ω–µ–¥–µ–ª—é</span>
    </div>
  </div>
)}
```

### –®–∞–≥ 6: –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Ä–∞—Å—á—ë—Ç–∞ –º–µ—Å—è—á–Ω–æ–π —Ü–µ–ª–∏

üìÅ **–§–∞–π–ª:** `/modules/habit-tracker/features/habits/utils/habitUtils.ts` ‚Üí —Ñ—É–Ω–∫—Ü–∏—è `getMonthlyGoalFromFrequency()`

```typescript
switch (frequency.type) {
  case 'every_n_weeks': {
    // –ö–∞–∂–¥—É—é N –Ω–µ–¥–µ–ª—é
    const weeks = frequency.period || 1;
    const weeksInMonth = daysInMonth / 7;
    return Math.floor(weeksInMonth / weeks);
  }
  
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ cases
}
```

### –®–∞–≥ 7: –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

üìÅ **–§–∞–π–ª:** `/modules/habit-tracker/features/habits/utils/habitUtils.ts` ‚Üí —Ñ—É–Ω–∫—Ü–∏—è `formatFrequency()`

```typescript
switch (frequency.type) {
  case 'every_n_weeks': {
    const weeks = frequency.period || 1;
    return `–ö–∞–∂–¥—É—é ${weeks} ${declineWeeks(weeks)}`;  // "–ö–∞–∂–¥—É—é 2 –Ω–µ–¥–µ–ª–∏"
  }
  
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ cases
}
```

### –®–∞–≥ 8: –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é —Å–∫–ª–æ–Ω–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

üìÅ **–§–∞–π–ª:** `/shared/utils/text/declineWords.ts`

```typescript
export function declineWeeks(num: number): string {
  const lastDigit = num % 10;
  const lastTwoDigits = num % 100;
  
  if (lastTwoDigits >= 11 && lastTwoDigits <= 19) return '–Ω–µ–¥–µ–ª—å';
  if (lastDigit === 1) return '–Ω–µ–¥–µ–ª—é';
  if (lastDigit >= 2 && lastDigit <= 4) return '–Ω–µ–¥–µ–ª–∏';
  return '–Ω–µ–¥–µ–ª—å';
}
```

### –®–∞–≥ 9: –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é

üìÅ **–§–∞–π–ª:** `/shared/utils/validation/frequencyValidation.ts`

```typescript
case 'every_n_weeks': {
  if (!frequency.period || frequency.period < 1 || frequency.period > 52) {
    return '–£–∫–∞–∂–∏—Ç–µ –ø–µ—Ä–∏–æ–¥ –æ—Ç 1 –¥–æ 52 –Ω–µ–¥–µ–ª—å';
  }
  break;
}
```

### ‚úÖ –ì–æ—Ç–æ–≤–æ!

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
1. –°–æ–∑–¥–∞–π –ø—Ä–∏–≤—ã—á–∫—É —Å "–ö–∞–∂–¥—É—é 2 –Ω–µ–¥–µ–ª—é"
2. –ü—Ä–æ–≤–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∫–∞—Ä—Ç–æ—á–∫–µ
3. –ü—Ä–æ–≤–µ—Ä—å —Ä–∞—Å—á—ë—Ç –º–µ—Å—è—á–Ω–æ–π —Ü–µ–ª–∏
4. –ü—Ä–æ–≤–µ—Ä—å –≤–∞–ª–∏–¥–∞—Ü–∏—é (0 –Ω–µ–¥–µ–ª—å, 100 –Ω–µ–¥–µ–ª—å)

---

## 4. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é

**–ü—Ä–∏–º–µ—Ä:** –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é "–†–∞–±–æ—Ç–∞" —Å —Å–µ—Ä—ã–º —Ü–≤–µ—Ç–æ–º

### –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å –≤ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

üìÅ **–§–∞–π–ª:** `/core/store/initialState.ts`

```typescript
export const DEFAULT_CATEGORIES = [
  { id: '1', name: '–ó–¥–æ—Ä–æ–≤—å–µ', color: 'bg-green-200 text-green-800 border-green-300' },
  { id: '2', name: '–°–ø–æ—Ä—Ç', color: 'bg-blue-200 text-blue-800 border-blue-300' },
  { id: '3', name: '–ß—Ç–µ–Ω–∏–µ', color: 'bg-purple-200 text-purple-800 border-purple-300' },
  { id: '4', name: '–†–∞–±–æ—Ç–∞', color: 'bg-gray-200 text-gray-800 border-gray-300' },  // ‚Üê –î–û–ë–ê–í–ò–¢–¨
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ
];
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ü–≤–µ—Ç –µ—Å—Ç—å –≤ —Å–ø–∏—Å–∫–µ

üìÅ **–§–∞–π–ª:** `/shared/constants/colors.ts`

```typescript
export const TAG_COLORS = [
  'bg-gray-200 text-gray-800 border-gray-300',  // ‚úÖ –£–∂–µ –µ—Å—Ç—å
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ
];
```

### ‚úÖ –ì–æ—Ç–æ–≤–æ!

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ö–∞—Ç–µ–≥–æ—Ä–∏—è –ø–æ—è–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∑–∞–ø—É—Å–∫–∞–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è –ù–ï –¥–æ–±–∞–≤–∏—Ç—Å—è (localStorage —É–∂–µ –∑–∞–ø–æ–ª–Ω–µ–Ω)

**–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º:**
üìÅ **–§–∞–π–ª:** `/core/store/slices/categories.ts` ‚Üí –¥–æ–±–∞–≤—å –º–∏–≥—Ä–∞—Ü–∏—é

```typescript
// –í initialState.ts –∏–ª–∏ –≤ migrations
if (!categories.find(c => c.name === '–†–∞–±–æ—Ç–∞')) {
  categories.push({
    id: Date.now().toString(),
    name: '–†–∞–±–æ—Ç–∞',
    color: 'bg-gray-200 text-gray-800 border-gray-300',
  });
}
```

---

## 5. –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º—É–ª—É EMA (—Å–∏–ª—ã –ø—Ä–∏–≤—ã—á–∫–∏)

**–ü—Ä–∏–º–µ—Ä:** –ò–∑–º–µ–Ω–∏—Ç—å –ø–µ—Ä–∏–æ–¥ —Å N=32 –Ω–∞ N=64 –¥–Ω—è

### ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: –í–ª–∏—è–µ—Ç –Ω–∞ –≤—Å—é –ª–æ–≥–∏–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è!

### –®–∞–≥ 1: –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É N

üìÅ **–§–∞–π–ª:** `/modules/habit-tracker/features/strength/utils/strengthCalculator.ts` ‚Üí —Ñ—É–Ω–∫—Ü–∏—è `recalculateStrength()`

```typescript
export const recalculateStrength = (habit: Habit, changedDate?: string): Habit => {
  const N = 64; // ‚Üê –ò–ó–ú–ï–ù–ò–¢–¨ (–±—ã–ª–æ 32)
  
  // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
}
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

üìÅ **–§–∞–π–ª:** `/modules/habit-tracker/docs/BUSINESS_LOGIC.md`

```markdown
### –§–æ—Ä–º—É–ª–∞ EMA

N = 64 –¥–Ω—è (–ø–µ—Ä–∏–æ–¥ ~2 –º–µ—Å—è—Ü–∞)  <!-- –ò–ó–ú–ï–ù–ò–¢–¨ -->
Œ± = 1/N = 1/64 ‚âà 0.015625       <!-- –ò–ó–ú–ï–ù–ò–¢–¨ -->
```

### –®–∞–≥ 3: –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã

```markdown
–î–µ–Ω—å 64 (–ø–æ–ª–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ): –°–∏–ª–∞ ‚âà 63%   <!-- –û–ë–ù–û–í–ò–¢–¨ -->
–î–µ–Ω—å 128 (–ø–æ–ª–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ): –°–∏–ª–∞ ‚âà 86%  <!-- –û–ë–ù–û–í–ò–¢–¨ -->
–î–µ–Ω—å 192 (–ø–æ–ª–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ): –°–∏–ª–∞ ‚âà 95%  <!-- –û–ë–ù–û–í–ò–¢–¨ -->
```

### ‚ö†Ô∏è –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è N:

| N | –°–∫–æ—Ä–æ—Å—Ç—å —Ä–æ—Å—Ç–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|----------------|----------|
| 16 | –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ | –°–∏–ª–∞ —Ä–∞—Å—Ç—ë—Ç –∑–∞ 2 –Ω–µ–¥–µ–ª–∏, –Ω–æ –Ω–µ—É—Å—Ç–æ–π—á–∏–≤–∞ |
| 32 | –ë—ã—Å—Ç—Ä–æ (—Ç–µ–∫—É—â–∞—è) | –ë–∞–ª–∞–Ω—Å: –∑–∞ –º–µ—Å—è—Ü –Ω–∞–±–∏—Ä–∞–µ—Ç—Å—è ~63% |
| 64 | –ú–µ–¥–ª–µ–Ω–Ω–æ | –¢—Ä–µ–±—É–µ—Ç—Å—è 2 –º–µ—Å—è—Ü–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ |
| 128 | –û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ | –ü—Ä–∏–≤—ã—á–∫–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –ø–æ–ª–≥–æ–¥–∞ |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** N=32 ‚Äî –Ω–∞—É—á–Ω–æ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏–≤—ã—á–∫–∏.

### ‚úÖ –ì–æ—Ç–æ–≤–æ!

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
1. –û—á–∏—Å—Ç–∏ localStorage (–¥–ª—è —á–∏—Å—Ç–æ–≥–æ —Ç–µ—Å—Ç–∞)
2. –°–æ–∑–¥–∞–π –ø—Ä–∏–≤—ã—á–∫—É –∏ –≤—ã–ø–æ–ª–Ω—è–π N –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Å–∏–ª–∞ ‚âà 63% –Ω–∞ N-–π –¥–µ–Ω—å
4. –ü—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ—Å—á—ë—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ä—ã—Ö –≥–∞–ª–æ—á–µ–∫

---

## üîç –ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è

**–¢–∏–ø—ã –ø—Ä–∏–≤—ã—á–µ–∫:**
```bash
/modules/habit-tracker/types/index.ts  # Habit, HabitData, FrequencyConfig
```

**–§–∏—á–∏:**
```bash
/modules/habit-tracker/features/habits/      # CRUD –ø—Ä–∏–≤—ã—á–µ–∫
/modules/habit-tracker/features/strength/    # –°–∏—Å—Ç–µ–º–∞ EMA
/modules/habit-tracker/features/frequency/   # –°–∏—Å—Ç–µ–º–∞ —á–∞—Å—Ç–æ—Ç—ã
/modules/habit-tracker/features/categories/  # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
```

**–£—Ç–∏–ª–∏—Ç—ã:**
```bash
/modules/habit-tracker/features/habits/utils/habitUtils.ts          # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
/modules/habit-tracker/features/strength/utils/strengthCalculator.ts  # –†–∞—Å—á—ë—Ç EMA
/modules/habit-tracker/shared/constants/units.ts                     # 22 –µ–¥ÔøΩÔøΩ–Ω–∏—Ü—ã
```

**Store:**
```bash
/core/store/slices/habits.ts  # addHabit(), updateHabit(), toggleCompletion()
```

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

**–í —ç—Ç–æ–º –º–æ–¥—É–ª–µ:**
- `BUSINESS_LOGIC.md` - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ EMA, —Ç–∏–ø–æ–≤ –ø—Ä–∏–≤—ã—á–µ–∫, —á–∞—Å—Ç–æ—Ç—ã

**–í –∫–æ—Ä–Ω–µ–≤–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:**
- `/docs/getting-started/COMMON_TASKS.md` - –û–±—â–∏–µ –∑–∞–¥–∞—á–∏ (Zustand, –º–æ–¥–∞–ª–∫–∏, UI)
- `/docs/getting-started/COMPONENT_PATTERNS.md` - –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–¥–∞
- `/docs/state-management/ZUSTAND_QUICKSTART.md` - –†–∞–±–æ—Ç–∞ —Å–æ store
- `/docs/ui-systems/MODAL_SYSTEM.md` - –°–∏—Å—Ç–µ–º–∞ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –∑–∞–∫–æ–Ω—á–∏—Ç—å –∑–∞–¥–∞—á—É, –ø—Ä–æ–≤–µ—Ä—å:

- [ ] –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–∏–ø—ã TypeScript –≤ `/modules/habit-tracker/types/`?
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º?
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `/docs/FileStructure.md`?
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ –≤ UI?
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage?
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è?
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏?
- [ ] –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —ç–∫—Ä–∞–Ω–∞—Ö (–º–æ–±–∏–ª—å–Ω—ã–π/–¥–µ—Å–∫—Ç–æ–ø)?

---

**–í–æ–ø—Ä–æ—Å—ã?** –°–º–æ—Ç—Ä–∏ –∫–æ–¥, —á–∏—Ç–∞–π `BUSINESS_LOGIC.md` –ª–∏ —Å–ø—Ä–∞—à–∏–≤–∞–π! üöÄ